import{n as x,p as K,l as M,a0 as f,a1 as Ea,a2 as g,a3 as p,u as l,y as o,Y as O,a4 as B,a5 as b,a6 as I,F as w,w as U,a7 as h,a8 as Ya,a9 as Wa,x as ia,_ as A,aa as Za,r as Ra,o as Qa,v as qa,K as q,s as ae,N as ee,Q as te,ab as ne,ac as ie,O as re,ad as oe}from"./@vue-L4bzHqrd.js";import{d as ea,c as le}from"./pinia-Dx-H8dLP.js";import{c as se,a as ue}from"./vue-router-CEg_TR6t.js";import{u as na}from"./@vueuse-DH2QTOEK.js";import{V as me,a as j,b as D,c as Ka,d as v,e as pe,f as de,g as J,h as Ja,i as Ba,j as P,k as ge,l as C,m as W,n as ra,o as oa,p as ce,q as he,r as fa,s as ke,t as fe,u as Na,v as _e,w as be,x as Ae,y as ve,z as je,A as ye,B as we,C as Se}from"./vuetify-MB9Dev-p.js";import{c as xe}from"./vue-i18n-Bp6BiJbi.js";import{p as E,i as R}from"./date-fns-DihKs_IG.js";import{A as Ve}from"./apexcharts-BWJDXgCn.js";import{m as Pe,a as $e,b as Te,c as De,d as Be,e as Ce,f as Me,g as Ke,h as Ne,i as Le,j as Ie,k as Fe,l as Oe,n as Ue,o as He,p as ze,q as Ee,r as Re,s as Je,t as Xe,u as Ge,v as Ye,w as We,x as Ze,y as Qe,z as qe,A as at,B as et,C as tt,D as nt,E as it,F as rt,G as ot,H as lt,I as st,J as ut,K as mt,L as pt,M as dt,N as gt,O as ct,P as ht,Q as kt,R as ft,S as _t,T as bt,U as At,V as vt,W as jt,X as yt,Y as wt,Z as St,_ as xt,$ as Vt,a0 as Pt,a1 as $t,a2 as Tt,a3 as Dt,a4 as Bt,a5 as Ct,a6 as Mt,a7 as Kt,a8 as Nt,a9 as Lt,aa as It,ab as Ft,ac as Ot,ad as Ut,ae as Ht,af as zt,ag as Et}from"./@mdi-CaLz6gnj.js";import"./vue-demi-Dq6ymT-8.js";import"./@intlify-DCihH9S3.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();String.prototype.isNumeric=function(){const e=/^[0-9]+$/;return!!this.match(e)};String.prototype.isBoolean=function(){return["true","false"].includes(this)};String.prototype.toCapitalizeCase=function(){return this.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")};String.prototype.toLocaleCapitalizeCase=function(e){return this.split(" ").map(n=>n.charAt(0).toLocaleUpperCase(e)+n.slice(1).toLocaleLowerCase(e)).join(" ")};String.prototype.trimWhitespace=function(e){return this.replace(/(\n|\r)+/g,e?"":" ").replace(/\s+/g,e?"":" ").trim()};String.prototype.toNomorHP=function(){let e=String(this);if(this.length>3){const n=this.substring(0,3),i=this.substring(3,this.length).match(/\d{1,4}/g);i&&(i.length>2&&i.splice(1,2,`${i[1]}${i[2]}`),e=`${n}-${i.join("-")}`)}return e};String.prototype.toNomorSIM=function(){let e=String(this);if(this.length>4){const n=this.substring(0,4),i=this.substring(4,this.length).match(/\d{1,4}/g);i&&(i.length>2&&i.splice(1,2,`${i[1]}${i[2]}`),e=`${n}-${i.join("-")}`)}return e};Date.prototype.getWeekNumber=function(){const e=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-n.getTime())/864e5+1)/7)};Date.prototype.getFirstDayOfMonth=function(e){return new Date(this.getFullYear(),e||this.getMonth(),1).getDay()};Date.prototype.getLastDayOfMonth=function(e){return new Date(this.getFullYear(),(e||this.getMonth())+1,0).getDay()};Date.prototype.getLastDateOfMonth=function(e){return new Date(this.getFullYear(),(e||this.getMonth())+1,0).getDate()};Date.prototype.setDateToLastDayOfWeek=function(){this.setDate(this.getDate()+(7-this.getDay()%7))};Array.prototype.isRecursive=function(){for(const e of this)if(Array.isArray(e))return!0;return!1};Array.prototype.removeDuplicates=function(){return this.filter((e,n,t)=>t.indexOf(e)===n)};var _=(a=>(a.Pemilik="Pemilik",a.Admin="Admin",a.Bengkel="Bengkel",a.Tamu="Tamu",a))(_||{});const la=ea("user-store",{state:()=>({user:na("user",{id:0,jenis:_.Tamu,nama_lengkap:"",nomor_hp:"",email:"",kata_sandi:""}),users:na("users",[]),formattedUsers:[],form:{nama_lengkap:{value:"",error:""},nomor_hp:{value:"",digit:"",error:""},email:{value:"",error:""},kata_sandi:{value:"",error:""}},search:""}),actions:{async login(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation("login")){a.loading=!1;return}const e=this.form.email.value,n=this.form.kata_sandi.value,t=this.users.find(i=>i.email===e&&i.kata_sandi===n);if(!t){a.loading=!1,a.setAlerts("error","Autentikasi Gagal","Email atau Password Salah");return}this.user=t,this.afterAction(),a.setAlerts("success","Autentikasi Berhasil",`Hai ${t.nama_lengkap} ðŸ‘‹`),aa.push({name:"Beranda"})},async logout(){const a=y();!this.user||a.loading||(a.loading=!0,this.afterAction(),a.setAlerts("success","Keluar Berhasil",`Sampai Jumpa ${this.user.nama_lengkap} ðŸ‘‹`),this.resetUser(),aa.push({name:"Masuk"}))},async create(a){const e=y();if(e.loading)return;if(e.loading=!0,!await this.checkValidation("create")){e.loading=!1;return}const n=this.form.nama_lengkap.value,t=this.form.nomor_hp.value,i=this.form.email.value,r=new Date().toLocaleString("id",{dateStyle:"short"});this.users.push({id:this.users.length===0?1:this.users[this.users.length-1].id+1,jenis:a,nama_lengkap:n,nomor_hp:`+62 ${t}`,email:i.toLocaleLowerCase(),kata_sandi:r}),this.afterAction(),e.setAlerts("success","Aksi Berhasil",`Berhasil Tambah Data ${a}`)},async update(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation("update")){a.loading=!1;return}const e=a.dialog.item,n=this.form.nama_lengkap.value,t=this.form.nomor_hp.value,i=this.form.email.value,r=this.form.kata_sandi.value,s=this.users.findIndex(d=>d.id===e.id);s!==-1&&(this.users[s].nama_lengkap=n,this.users[s].nomor_hp=`+62 ${t}`,this.users[s].email=i.toLocaleLowerCase(),this.users[s].kata_sandi=r),this.afterAction(),a.setAlerts("success","Aksi Berhasil",`Berhasil Ubah Data ${e.jenis}`)},async delete(){const a=y();if(a.loading)return;a.loading=!0;const e=a.dialog.item,n=this.users.findIndex(t=>t.id===e.id);n!==-1&&this.users.splice(n,1),this.afterAction(),a.setAlerts("success","Aksi Berhasil",`Berhasil Hapus Data ${e.jenis}`)},async namaLengkapValidation(){const a=/ {2,}/g,e=/^ {1,}/gm,n=/[^a-zA-Z ]/g;let t=this.form.nama_lengkap.value,i="";t=t.replace(a," ").replace(e,"").replace(n,""),t?t.length>50&&(i="Nama Lengkap Terlalu Panjang!"):i="Nama Lengkap Tidak Boleh Kosong!",await x(()=>{this.form.nama_lengkap.value=t,this.form.nama_lengkap.error=i})},async nomorHPValidation(){const a=/^[^8]+|\D+/g,e=/^.{14,}$/g,n=/[-]+|\D+/g;let t=this.form.nomor_hp.value,i="",r="";t=t.replace(a,"").replace(e,t.substring(0,14)),t?(i=t.replace(n,""),i.length<9?r="Nomor HP Minimal 9 Digit!":i.length>12&&(i=i.substring(0,12)),t=i.toNomorHP()):r="Nomor HP Tidak Boleh Kosong!",await x(()=>{this.form.nomor_hp.value=t,this.form.nomor_hp.digit=i,this.form.nomor_hp.error=r})},async emailValidation(){const a=/[^a-zA-Z0-9._%+-@.]/g,e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;let n=this.form.email.value,t="";n=n.replace(a,""),n?n.length>50?t="Email Terlalu Panjang!":n.match(e)||(t="Email Tidak Sesuai Format!"):t="Email Tidak Boleh Kosong!",await x(()=>{this.form.email.value=n,this.form.email.error=t})},async kataSandiValidation(){const a=/ {2,}/g,e=/^ {1,}/gm;let n=this.form.kata_sandi.value,t="";n=n.replace(a," ").replace(e,""),n?n.length<6?t="Kata Sandi Terlalu Pendek!":n.length>50&&(t="Kata Sandi Terlalu Panjang!"):t="Kata Sandi Tidak Boleh Kosong!",await x(()=>{this.form.kata_sandi.value=n,this.form.kata_sandi.error=t})},async checkValidation(a){if(await Promise.all([a!=="login"?this.namaLengkapValidation():void 0,a!=="login"?this.nomorHPValidation():void 0,this.emailValidation(),a!=="create"?this.kataSandiValidation():void 0]),!this.isValidationValid){const e=y(),n=this.form.nama_lengkap.error,t=this.form.nomor_hp.error,i=this.form.email.error,r=this.form.kata_sandi.error;return e.setAlerts("error","Aksi Gagal",`${n?`${n}
`:""}${t?`${t}
`:""}${i?`${i}
`:""}${r?`${r}
`:""}`),!1}return!0},afterAction(){const a=y();this.resetForm(),a.resetDialog()},resetUser(){this.user={id:0,jenis:_.Tamu,nama_lengkap:"",nomor_hp:"",email:"",kata_sandi:""}},resetForm(){this.form={nama_lengkap:{value:"",error:""},nomor_hp:{value:"",digit:"",error:""},email:{value:"",error:""},kata_sandi:{value:"",error:""}}},customKeySort(){return{nomor:(a,e)=>a-e,nama_lengkap:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),nomor_hp:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),email:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),kata_sandi:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase())}}},getters:{isValidationValid(a){const e=a.form.nama_lengkap.error,n=a.form.nomor_hp.error,t=a.form.email.error,i=a.form.kata_sandi.error;return e===""&&n===""&&t===""&&i===""},getTableHeaders(){return[{title:"Opsi",value:"opsi",sortable:!1,nowrap:!0,align:"center"},{title:"Nomor",value:"nomor",sortable:!0,nowrap:!0,align:"center"},{title:"Nama Lengkap",value:"nama_lengkap",sortable:!0,nowrap:!0,align:"start"},{title:"Nomor HP",value:"nomor_hp",sortable:!0,nowrap:!0,align:"start"},{title:"Email",value:"email",sortable:!0,nowrap:!0,align:"start"},{title:"Kata Sandi",value:"kata_sandi",sortable:!0,nowrap:!0,align:"start"}]}}});function Xa(a,e){return a.filter(n=>n.jenis===e).map((n,t)=>({id:n.id,nomor:t+1,jenis:n.jenis,nama_lengkap:n.nama_lengkap,nomor_hp:n.nomor_hp,email:n.email,kata_sandi:n.kata_sandi}))}function Rt(){return[{id:1,jenis:_.Pemilik,nama_lengkap:"Pundi Niaga Khatulistiwa",nomor_hp:"+62 800-0000-0000",email:"owner@gmail.com",kata_sandi:"123123"},{id:2,jenis:_.Admin,nama_lengkap:"Rina Susanti",nomor_hp:"+62 812-3456-7891",email:"rina.susanti@example.com",kata_sandi:"admin2023"},{id:3,jenis:_.Admin,nama_lengkap:"Agus Pratama",nomor_hp:"+62 813-4567-8902",email:"agus.pratama@example.com",kata_sandi:"pratama2023"},{id:4,jenis:_.Admin,nama_lengkap:"Budi Santoso",nomor_hp:"+62 814-5678-9013",email:"budi.santoso@example.com",kata_sandi:"santoso2023"},{id:5,jenis:_.Admin,nama_lengkap:"Citra Lestari",nomor_hp:"+62 815-6789-0124",email:"citra.lestari@example.com",kata_sandi:"lestari2023"},{id:6,jenis:_.Admin,nama_lengkap:"Dewi Anjani",nomor_hp:"+62 816-7890-1235",email:"dewi.anjani@example.com",kata_sandi:"anjani2023"},{id:7,jenis:_.Bengkel,nama_lengkap:"Agus Santoso",nomor_hp:"+62 812-3456-7890",email:"agus.santoso@example.com",kata_sandi:"sandi1234"},{id:8,jenis:_.Bengkel,nama_lengkap:"Budi Hartono",nomor_hp:"+62 813-4567-8901",email:"budi.hartono@example.com",kata_sandi:"password5678"},{id:9,jenis:_.Bengkel,nama_lengkap:"Citra Dewi",nomor_hp:"+62 814-5678-9012",email:"citra.dewi@example.com",kata_sandi:"bengkel2022"},{id:10,jenis:_.Bengkel,nama_lengkap:"Dewi Sartika",nomor_hp:"+62 815-6789-0123",email:"dewi.sartika@example.com",kata_sandi:"motormandiri123"},{id:11,jenis:_.Bengkel,nama_lengkap:"Eka Putra",nomor_hp:"+62 816-7890-1234",email:"eka.putra@example.com",kata_sandi:"sukses2023"},{id:12,jenis:_.Bengkel,nama_lengkap:"Fajar Nugroho",nomor_hp:"+62 817-8901-2345",email:"fajar.nugroho@example.com",kata_sandi:"prima2021"},{id:13,jenis:_.Bengkel,nama_lengkap:"Gita Pratama",nomor_hp:"+62 818-9012-3456",email:"gita.pratama@example.com",kata_sandi:"megaperkasa2020"},{id:14,jenis:_.Bengkel,nama_lengkap:"Hadi Setiawan",nomor_hp:"+62 819-0123-4567",email:"hadi.setiawan@example.com",kata_sandi:"amanahmotor123"},{id:15,jenis:_.Bengkel,nama_lengkap:"Indah Lestari",nomor_hp:"+62 820-1234-5678",email:"indah.lestari@example.com",kata_sandi:"mitrasejati2024"},{id:16,jenis:_.Bengkel,nama_lengkap:"Joko Susilo",nomor_hp:"+62 821-2345-6789",email:"joko.susilo@example.com",kata_sandi:"bersamamotor567"}]}const $a="data:image/svg+xml,%3csvg%20width='125'%20height='125'%20viewBox='0%200%20125%20125'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='125'%20height='125'%20fill='url(%23pattern0)'/%3e%3cdefs%3e%3cpattern%20id='pattern0'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_88_481'%20transform='scale(0.00689655)'/%3e%3c/pattern%3e%3cimage%20id='image0_88_481'%20width='145'%20height='145'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJEAAACRCAMAAAD0BqoRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJkUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/sKFQAAADLdFJOUwABAgMEBQYHCAkKCwwNDg8QERITFBUWFxgZGhscHR4gISIjJCUmJygpKissLS8wMjM0Njk7PD0+QUJDREVGSEpLTE5PUFFTVVZXWFlaW1xeYWRmZ2hpamttbnB0dXd4eXp9fn+AgYOEhYaHiouMjY6RkpWXmpucnZ+goaKjpKWnqKmqq62vsLK0tba4ubq7vb6/wMHCw8TFxsfIycrLzM3Oz9DS1NXX2drb3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09ff4+fr7/P3+yXgR8gAAAAlwSFlzAAAXEQAAFxEByibzPwAABdpJREFUeF7tmotXFUUcx+cipmC+CSipjOxFFhCkmb3M7KVilJa9LXpAlFFJaZpaUamQqIiP3mXI7SUPsygJ5ZEC8081M/u9987uzu6d2RP3nE7z4XjPzO+3vzsfd+fuzt69xGKxWCwWi8VisVgsFovFYrH8R6l4aLWX6huQ46w7eLC9/ZDg8OFD7I+9sib71+7Q1vrAZdhWZmpDm5vlhNSgmeApbOtiZT/10XU1kpw3EAzjbOPd2DrFtC+RTPA4IZ+gmWAbtpVZfAZJib4KJAX1iKZhx/XYPkHuAWQSPELITjQTbMK2EtO/QE6mGkkHTSM6VDsHFQ4+o7U6RlnvISXzJpJA14jS1otRIohm9AoyMu05SAJ9I7rvUtRwIhndMYKMRH85kgkMjOjRfBQxosyjBT8jIbMKySQmRrQBRYwIRvlfIy7zApIpjIxGVqMq0lF7B+Ek45TuzUUyhZERHSxDWQSjJxFNMU67r0JSwsyItkxCnbHR8mFEk4zT/kVIyhga0ZdR5zNaF25U0YegzLNIujA1Oo39bLiPZn+LmMwHU5F1YWpEX3PqzIyytiIkc+RCZN0YG/3qvI+ZUR0iMgM3IenB2Gj0GVFnZHQP+5x7GV3DM7GY2EDGaxSvUbPxb2xAt4s6k5m9II5AEmZYi6QPr9FHiPtInk56xPLKwOiir9CX2eO5vqbwGu1msbmFBR4Kp5HY69iC3srr9I0me8N8D/20QORUKIyy9sY7PcQ/vYRMSaxt2Ngm82jDGLoS/Yt5Jqb16edGPWjLtMwkc1qc5qu8TttohWIFwi/LHP+0ZqiMfkDbxfvZZMYu0To0mdXpHrXKv9CR2TpFjK1G24huySYFn/FGL5+UmkYFx9GW2S8u+ModxNA34pe0vKNsWmobNRLyLpoyv5XwgWNZ/FWBgdE4mypF7PrUPZ3V6Ri9RWrRclHljByEgREduJOQecfoLzNZnY5R/VI0XNSIcYOOmZkR7V5IyMITp2awOh2j/d+gIbMrbFZzjIxo93WE3NI2l9XpGKnoucIZNxgzI9pRREi57sxWMKBaNboxNKJteU5dRKP1TnUYpkZ0s7PSjmbUJGrDMTaidaIuktER/pkI+ZgJzI3oE7zOZ6S4rnk56Zwas/lrMBGMxvjqL8I+GrnPGTINEYzo6LJIRqNiYZXmmEUzor2VJCfCPPqxiK2rJ8aIxotJlJm9OZaT7owd1Yi2zGpGK4GOEX0Mo4aR3ui8ahFIm/ajkUDL6OR8DBtCeqOhFzvRCkXLiB7g64ZwNI7ashtVK1Mvekb0aYwbjIbRKrIBrTA0jYaWYuBANIyqyAXb0QxB04h2FGLkILSMSK53HvvRNaJvY+Qg9IxI6R/oBKJtxLcMQ9OIrDiHXhBqo3OKhe0p+bmMH10jsh69INRGuwv3oCVxWCxKgtA2IpvQDUBp1FdKinvRlqh33lGNvtGsz9FXozIau5/VVaMjMXi785ZK9I3ItYr/bQqVkfPlVwN6El2Xi4wSAyOyKOzczVaWPqNKUTbre3QlVA8DgYkRebQ5GLaKCzAilafRlwheBRgZpcFnlLg5W4u+RL/i+YNDRoyyvE9wGfuCTgETbiRWsXmKr/yf5wkFGdlHhNyFiMTQEuQ8TKTR2M1IMJ5DTKLT9eA3yUQanZeMJrUiKNGInJuJNBqFkZhKJX8iKvGwSHvI0DxirBlFNMXv1yAnkzmj2BZEJVoVNwKZMRLfyxZ8h7AEntbJZMbIubde4n+oNXibyMtk7qgxr5cQlzhRjGSSTBopTwE7kEuSUSNS5r+BGPfeU2bWiFQpbiDuRQ6ojOL8mVyKf9MoS3EKOI6vf8FGhBM0syrPT2DEI14dPkRBEvFcz03eMeQkmviDliR1I8MyIx8zow45NjK8EpumZZvnvYaxhnRR2XXGw9mhB5ETzCsvlSm/ksVKytBzcP9cLIT57vcqLVX+xGB2vpeC9F/hWCwWi8VisVgsFovFYrFYLBaL5X8JIf8Aad5/SSpAejkAAAAASUVORK5CYII='/%3e%3c/defs%3e%3c/svg%3e",Jt=K({__name:"AppView",setup(a){const e=y(),n=la(),t=M(()=>{var s;const i=[],r=((s=n.user)==null?void 0:s.jenis)||_.Tamu;return i.push({icon:{active:"$home",passive:"$home-outline"},title:"Beranda",link:"/beranda"}),r===_.Pemilik&&(i.push({icon:{active:"$account",passive:"$account-outline"},title:"Data Admin",link:"/admin"}),i.push({icon:{active:"$tools",passive:"$hammer-wrench"},title:"Data Bengkel",link:"/bengkel"})),[_.Pemilik,_.Admin].includes(r)&&i.push({icon:{active:"$ship-wheel",passive:"$steering"},title:"Data Sopir",link:"/sopir"}),[_.Pemilik,_.Admin].includes(r)&&i.push({icon:{active:"$car",passive:"$car-outline"},title:"Data Mobil",link:"/mobil"}),[_.Pemilik,_.Bengkel].includes(r)&&i.push({icon:{active:"$car-cog",passive:"$car-battery"},title:"Data Spare Part",link:"/spare-part"}),[_.Pemilik,_.Admin].includes(r)&&i.push({icon:{active:"$cash-plus",passive:"$cash-sync"},title:"Data Pendapatan",link:"/pendapatan"}),[_.Pemilik,_.Admin].includes(r)&&i.push({icon:{active:"$cash-minus",passive:"$cash-sync"},title:"Data Pengeluaran",link:"/pengeluaran"}),[_.Pemilik,_.Admin].includes(r)&&i.push({icon:{active:"$clipboard-text",passive:"$clipboard-text-outline"},title:"Laporan Ritase",link:"/ritase"}),i});return(i,r)=>{const s=Ea("RouterView");return g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.parent?(g(),f(me,{key:0,style:{"background-color":"transparent"}},{default:p(()=>[o(pe,{color:"primary",permanent:"",persistent:""},{append:p(()=>[o(j,{class:"pa-2"},{default:p(()=>[o(D,{block:"",color:"secondary",height:"48px",rounded:"xl",onClick:r[0]||(r[0]=d=>l(n).logout())},{default:p(()=>[O(" Keluar ")]),_:1})]),_:1})]),default:p(()=>[l(n).user?(g(),f(Ka,{key:0,title:l(n).user.nama_lengkap,subtitle:l(n).user.jenis,"prepend-avatar":l($a)},null,8,["title","subtitle","prepend-avatar"])):B("",!0),o(v,{color:"background"}),(g(!0),b(w,null,I(t.value,(d,m)=>(g(),f(Ka,{key:m,title:d.title,to:d.link,"prepend-icon":l(aa).currentRoute.value.path===d.link?d.icon.active:d.icon.passive,link:"",active:l(aa).currentRoute.value.path===d.link},null,8,["title","to","prepend-icon","active"]))),128))]),_:1}),o(de,null,{default:p(()=>[o(j,{"full-height":""},{default:p(()=>[o(s)]),_:1})]),_:1})]),_:1})):B("",!0)]),_:1})}}}),La="/Pundi-Niaga-Khatulistiwa/assets/beranda-Cyj4R5v4.jpg",Xt=K({__name:"BerandaView",setup(a){const e=y();return U(()=>e.active.child,n=>{n&&(e.loading=!1)},{immediate:!0}),(n,t)=>(g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.child?(g(),f(j,{key:0,"full-height":""},{default:p(()=>[o(Ja,{src:l(La),"lazy-src":l(La),height:"100%",cover:""},null,8,["src","lazy-src"])]),_:1})):B("",!0)]),_:1}))}}),$=K({__name:"CustomTextField",props:{modelValue:{type:String,required:!0},label:{type:String,default:void 0},placeholder:{type:String,default:void 0},prependInnerIcon:{type:Object,default:void 0},prefix:{type:String,default:void 0},clearable:{type:Boolean,default:!1},type:{type:String,default:"text"},autocomplete:{type:String,default:void 0}},emits:["update:model-value"],setup(a,{emit:e}){const n=a,t=e,i=M({get:()=>n.modelValue,set:r=>{t("update:model-value",r)}});return(r,s)=>(g(),f(ge,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=d=>i.value=d),label:a.label,placeholder:a.placeholder,prefix:a.prefix,clearable:a.clearable,type:a.type,autocomplete:a.autocomplete,"onClick:clear":s[1]||(s[1]=()=>i.value=""),"onUpdate:focused":s[2]||(s[2]=d=>{d||(i.value=i.value.trim())})},{"prepend-inner":p(({isFocused:d})=>[a.prependInnerIcon?(g(),f(Ba,{key:0,"leave-absolute":""},{default:p(()=>[d.value?(g(),f(P,{key:0,icon:a.prependInnerIcon.active},null,8,["icon"])):(g(),f(P,{key:1,icon:a.prependInnerIcon.passive},null,8,["icon"]))]),_:2},1024)):B("",!0)]),_:1},8,["modelValue","label","placeholder","prefix","clearable","type","autocomplete"]))}}),Gt=h("span",{class:"text-h4 font-weight-bold text-center"}," MASUK SISTEM ",-1),Yt=K({__name:"MasukView",setup(a){const e=y(),n=la();return U(()=>e.active.parent,t=>{t&&(e.loading=!1)},{immediate:!0}),(t,i)=>(g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.parent?(g(),f(j,{key:0,class:"pa-8","full-height":""},{default:p(()=>[o(C,{class:"ma-auto pa-8 d-flex flex-column",width:"512px",color:"primary",elevation:"4",rounded:"xl"},{default:p(()=>[Gt,o(C,{class:"mx-auto my-8",width:"144px",height:"144px",rounded:"lg"},{default:p(()=>[o(Ja,{src:l($a),"lazy-src":l($a)},null,8,["src","lazy-src"])]),_:1}),o(W,null,{default:p(()=>[o($,{modelValue:l(n).form.email.value,"onUpdate:modelValue":[i[0]||(i[0]=r=>l(n).form.email.value=r),i[1]||(i[1]=r=>l(n).emailValidation())],label:"Email",placeholder:"example@example.com","prepend-inner-icon":{active:"$email",passive:"$email-outline"},autocomplete:"email"},null,8,["modelValue"]),o(v,{class:"my-2"}),o($,{modelValue:l(n).form.kata_sandi.value,"onUpdate:modelValue":[i[2]||(i[2]=r=>l(n).form.kata_sandi.value=r),i[3]||(i[3]=r=>l(n).kataSandiValidation())],label:"Kata Sandi",placeholder:"Minimal 6 Karakter","prepend-inner-icon":{active:"$lock",passive:"$lock-outline"},type:"password",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),o(v,{class:"my-4"}),o(D,{class:"ml-auto",height:"56px",width:"168px",color:"secondary",onClick:i[4]||(i[4]=r=>l(n).login())},{default:p(()=>[O(" Kirim ")]),_:1})]),_:1})]),_:1})):B("",!0)]),_:1}))}}),Wt=K({__name:"CustomGridLayout",props:{gridTemplateColumns:{type:String,default:void 0},gap:{type:String,default:void 0},rowGap:{type:String,default:void 0},columnGap:{type:String,default:void 0},width:{type:String,default:void 0},minWidth:{type:String,default:void 0},maxWidth:{type:String,default:void 0},height:{type:String,default:void 0},minHeight:{type:String,default:void 0},maxHeight:{type:String,default:void 0}},setup(a){const e=a,n=M(()=>({gridTemplateColumns:e.gridTemplateColumns,rowGap:e.rowGap?e.rowGap:e.gap,columnGap:e.columnGap?e.columnGap:e.gap,width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,height:e.height,minHeight:e.minHeight,maxHeight:e.maxHeight}));return(t,i)=>(g(),b("div",{style:Wa(n.value)},[Ya(t.$slots,"default",{},void 0)],4))}}),Zt=(a,e)=>{const n=a.__vccOpts||a;for(const[t,i]of e)n[t]=i;return n},ta=Zt(Wt,[["__scopeId","data-v-f79173cc"]]),Qt={class:"text-h6 font-weight-bold text-center mx-auto"},qt=h("span",{class:"font-weight-bold mx-auto"}," Detail ",-1),an={class:"font-weight-medium"},en=h("span",null," Â :Â  ",-1),tn=h("div",{class:"my-4"},null,-1),va=K({__name:"AdminDialogView",props:{action:{type:String,required:!0}},setup(a){const e=a,n=y(),t=la(),i=M(()=>n.dialog.item),r=M(()=>e.action==="create"?"Tambah":e.action==="update"?"Ubah":"Hapus"),s=M(()=>[{title:"Jenis",value:i.value.jenis},{title:"Nama Lengkap",value:i.value.nama_lengkap},{title:"Nomor HP",value:i.value.nomor_hp},{title:"Email",value:i.value.email},{title:"Kata Sandi",value:i.value.kata_sandi}]);return ia(()=>{e.action==="update"&&(t.form.nama_lengkap.value=i.value.nama_lengkap,t.form.nomor_hp.value=i.value.nomor_hp,t.form.email.value=i.value.email,t.form.kata_sandi.value=i.value.kata_sandi,t.namaLengkapValidation(),t.nomorHPValidation(),t.emailValidation(),t.kataSandiValidation())}),(d,m)=>(g(),b(w,null,[o(j,{class:"position-relative mb-8"},{default:p(()=>[o(D,{position:"absolute",size:"32px",variant:"tonal",elevation:0,onClick:m[0]||(m[0]=()=>{l(t).resetForm(),l(n).resetDialog()})},{default:p(()=>[o(P,{size:"20px",icon:"$close",color:"surface"})]),_:1}),h("span",Qt,A(r.value)+" Admin ",1)]),_:1}),a.action==="delete"?(g(),b(w,{key:0},[o(j,null,{default:p(()=>[o(C,{class:"pa-1 mx-auto",color:"surface",elevation:4},{default:p(()=>[o(P,{icon:"$alert",size:"128px",color:"primary"})]),_:1})]),_:1}),o(j,{class:"d-flex flex-column mt-8"},{default:p(()=>[qt,o(ta,{class:"overflow-auto align-self-center","grid-template-columns":"minmax(0px, 1fr) auto minmax(0px, 1fr)",width:"fit-content"},{default:p(()=>[(g(!0),b(w,null,I(s.value,(u,c)=>(g(),b(w,{key:c},[h("span",an,A(u.title),1),en,h("span",null,A(u.value),1)],64))),128))]),_:1})]),_:1})],64)):(g(),f(W,{key:1},{default:p(()=>[o($,{modelValue:l(t).form.nama_lengkap.value,"onUpdate:modelValue":[m[1]||(m[1]=u=>l(t).form.nama_lengkap.value=u),m[2]||(m[2]=u=>l(t).namaLengkapValidation())],label:"Nama Lengkap",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$account",passive:"$account-outline"},autocomplete:"name"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.nomor_hp.value,"onUpdate:modelValue":[m[3]||(m[3]=u=>l(t).form.nomor_hp.value=u),m[4]||(m[4]=u=>l(t).nomorHPValidation())],label:"Nomor HP",placeholder:"8XX-XXXX-XXXX","prepend-inner-icon":{active:"$phone",passive:"$phone-outline"},prefix:"+62"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.email.value,"onUpdate:modelValue":[m[5]||(m[5]=u=>l(t).form.email.value=u),m[6]||(m[6]=u=>l(t).emailValidation())],label:"Email",placeholder:"example@example.com","prepend-inner-icon":{active:"$email",passive:"$email-outline"},autocomplete:"email"},null,8,["modelValue"]),o(v,{class:"my-1"}),a.action==="update"?(g(),f($,{key:0,modelValue:l(t).form.kata_sandi.value,"onUpdate:modelValue":[m[7]||(m[7]=u=>l(t).form.kata_sandi.value=u),m[8]||(m[8]=u=>l(t).kataSandiValidation())],label:"Kata Sandi","prepend-inner-icon":{active:"$lock",passive:"$lock-outline"},autocomplete:"current-password",type:"password"},null,8,["modelValue"])):B("",!0)]),_:1})),tn,o(D,{height:"56px",block:"",color:"secondary",onClick:m[9]||(m[9]=()=>{l(t)[a.action](l(_).Admin)})},{default:p(()=>[O(A(a.action.toCapitalizeCase()),1)]),_:1})],64))}}),nn={class:"text-body-1 font-weight-bold text-no-wrap mr-2"},rn=K({__name:"AdminView",setup(a){const e=y(),n=la();return U(()=>[e.active.child,n.users],t=>{t[0]&&t[1]&&(n.formattedUsers=Xa(n.users,_.Admin),e.loading=!1)},{immediate:!0,deep:!0}),(t,i)=>(g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.child?(g(),f(j,{key:0,class:"d-scroll pa-2 overflow-auto","min-height":"fit-content","max-height":"100vh"},{default:p(()=>[o(C,{class:"ma-auto pa-4",color:"surface","min-width":"100%",width:"0px"},{default:p(()=>[o(ra,{search:l(n).search,items:l(n).formattedUsers,headers:l(n).getTableHeaders,"custom-key-sort":l(n).customKeySort()},{top:p(()=>[o(j,{class:"pt-1 pb-2"},{default:p(()=>[o(D,{height:"56px",color:"secondary",onClick:i[0]||(i[0]=r=>l(e).setDialog(void 0,va,"create"))},{default:p(()=>[O(" Tambah Admin ")]),_:1}),o(v,{class:"mx-2",color:"transparent",vertical:""}),o($,{modelValue:l(n).search,"onUpdate:modelValue":i[1]||(i[1]=r=>l(n).search=r),label:"Cari Data Admin","prepend-inner-icon":{active:"$text-box-search",passive:"$text-box-search-outline"},clearable:""},null,8,["modelValue"])]),_:1})]),headers:p(({columns:r,isSorted:s,getSortIcon:d,toggleSort:m})=>[h("tr",null,[(g(!0),b(w,null,I(r,u=>(g(),b("td",{key:u.key,class:"pa-1"},[o(C,{class:"d-flex align-center pa-4",variant:"tonal",width:"100%",height:"100%",color:"primary",onClick:()=>{u.sortable&&m(u)}},{default:p(()=>[h("span",nn,A(u.title),1),o(oa),s(u)?(g(),f(P,{key:0,icon:d(u)},null,8,["icon"])):B("",!0)]),_:2},1032,["onClick"])]))),128))])]),"item.opsi":p(({item:r})=>[o(j,null,{default:p(()=>[o(D,{class:"mr-1",size:"32",variant:"tonal",elevation:0,color:"secondary",onClick:s=>l(e).setDialog(r,va,"update")},{default:p(()=>[o(P,{size:"20",icon:"$pencil"})]),_:2},1032,["onClick"]),o(D,{size:"32",variant:"tonal",elevation:0,color:"error",onClick:s=>l(e).setDialog(r,va,"delete")},{default:p(()=>[o(P,{size:"20",icon:"$delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["search","items","headers","custom-key-sort"])]),_:1})]),_:1})):B("",!0)]),_:1}))}}),on={class:"text-h6 font-weight-bold text-center mx-auto"},ln=h("span",{class:"font-weight-bold mx-auto"}," Detail ",-1),sn={class:"font-weight-medium"},un=h("span",null," Â :Â  ",-1),mn=h("div",{class:"my-4"},null,-1),ja=K({__name:"BengkelDialogView",props:{action:{type:String,required:!0}},setup(a){const e=a,n=y(),t=la(),i=M(()=>n.dialog.item),r=M(()=>e.action==="create"?"Tambah":e.action==="update"?"Ubah":"Hapus"),s=M(()=>[{title:"Jenis",value:i.value.jenis},{title:"Nama Lengkap",value:i.value.nama_lengkap},{title:"Nomor HP",value:i.value.nomor_hp},{title:"Email",value:i.value.email},{title:"Kata Sandi",value:i.value.kata_sandi}]);return ia(()=>{e.action==="update"&&(t.form.nama_lengkap.value=i.value.nama_lengkap,t.form.nomor_hp.value=i.value.nomor_hp,t.form.email.value=i.value.email,t.form.kata_sandi.value=i.value.kata_sandi,t.namaLengkapValidation(),t.nomorHPValidation(),t.emailValidation(),t.kataSandiValidation())}),(d,m)=>(g(),b(w,null,[o(j,{class:"position-relative mb-8"},{default:p(()=>[o(D,{position:"absolute",size:"32px",variant:"tonal",elevation:0,onClick:m[0]||(m[0]=()=>{l(t).resetForm(),l(n).resetDialog()})},{default:p(()=>[o(P,{size:"20px",icon:"$close",color:"surface"})]),_:1}),h("span",on,A(r.value)+" Bengkel ",1)]),_:1}),a.action==="delete"?(g(),b(w,{key:0},[o(j,null,{default:p(()=>[o(C,{class:"pa-1 mx-auto",color:"surface",elevation:4},{default:p(()=>[o(P,{icon:"$alert",size:"128px",color:"primary"})]),_:1})]),_:1}),o(j,{class:"d-flex flex-column mt-8"},{default:p(()=>[ln,o(ta,{class:"overflow-auto align-self-center","grid-template-columns":"minmax(0px, 1fr) auto minmax(0px, 1fr)",width:"fit-content"},{default:p(()=>[(g(!0),b(w,null,I(s.value,(u,c)=>(g(),b(w,{key:c},[h("span",sn,A(u.title),1),un,h("span",null,A(u.value),1)],64))),128))]),_:1})]),_:1})],64)):(g(),f(W,{key:1},{default:p(()=>[o($,{modelValue:l(t).form.nama_lengkap.value,"onUpdate:modelValue":[m[1]||(m[1]=u=>l(t).form.nama_lengkap.value=u),m[2]||(m[2]=u=>l(t).namaLengkapValidation())],label:"Nama Lengkap",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$account",passive:"$account-outline"},autocomplete:"name"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.nomor_hp.value,"onUpdate:modelValue":[m[3]||(m[3]=u=>l(t).form.nomor_hp.value=u),m[4]||(m[4]=u=>l(t).nomorHPValidation())],label:"Nomor HP",placeholder:"8XX-XXXX-XXXX","prepend-inner-icon":{active:"$phone",passive:"$phone-outline"},prefix:"+62"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.email.value,"onUpdate:modelValue":[m[5]||(m[5]=u=>l(t).form.email.value=u),m[6]||(m[6]=u=>l(t).emailValidation())],label:"Email",placeholder:"example@example.com","prepend-inner-icon":{active:"$email",passive:"$email-outline"},autocomplete:"email"},null,8,["modelValue"]),o(v,{class:"my-1"}),a.action==="update"?(g(),f($,{key:0,modelValue:l(t).form.kata_sandi.value,"onUpdate:modelValue":[m[7]||(m[7]=u=>l(t).form.kata_sandi.value=u),m[8]||(m[8]=u=>l(t).kataSandiValidation())],label:"Kata Sandi","prepend-inner-icon":{active:"$lock",passive:"$lock-outline"},autocomplete:"current-password",type:"password"},null,8,["modelValue"])):B("",!0)]),_:1})),mn,o(D,{height:"56px",block:"",color:"secondary",onClick:m[9]||(m[9]=()=>{l(t)[a.action](l(_).Bengkel)})},{default:p(()=>[O(A(a.action.toCapitalizeCase()),1)]),_:1})],64))}}),pn={class:"text-body-1 font-weight-bold text-no-wrap mr-2"},dn=K({__name:"BengkelView",setup(a){const e=y(),n=la();return U(()=>[e.active.child,n.users],t=>{t[0]&&t[1]&&(n.formattedUsers=Xa(n.users,_.Bengkel),e.loading=!1)},{immediate:!0,deep:!0}),(t,i)=>(g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.child?(g(),f(j,{key:0,class:"d-scroll pa-2 overflow-auto","min-height":"fit-content","max-height":"100vh"},{default:p(()=>[o(C,{class:"ma-auto pa-4",color:"surface","min-width":"100%",width:"0px"},{default:p(()=>[o(ra,{search:l(n).search,items:l(n).formattedUsers,headers:l(n).getTableHeaders,"custom-key-sort":l(n).customKeySort()},{top:p(()=>[o(j,{class:"pt-1 pb-2"},{default:p(()=>[o(D,{height:"56px",color:"secondary",onClick:i[0]||(i[0]=r=>l(e).setDialog(void 0,ja,"create"))},{default:p(()=>[O(" Tambah Bengkel ")]),_:1}),o(v,{class:"mx-2",color:"transparent",vertical:""}),o($,{modelValue:l(n).search,"onUpdate:modelValue":i[1]||(i[1]=r=>l(n).search=r),label:"Cari Data Bengkel","prepend-inner-icon":{active:"$text-box-search",passive:"$text-box-search-outline"},clearable:""},null,8,["modelValue"])]),_:1})]),headers:p(({columns:r,isSorted:s,getSortIcon:d,toggleSort:m})=>[h("tr",null,[(g(!0),b(w,null,I(r,u=>(g(),b("td",{key:u.key,class:"pa-1"},[o(C,{class:"d-flex align-center pa-4",variant:"tonal",width:"100%",height:"100%",color:"primary",onClick:()=>{u.sortable&&m(u)}},{default:p(()=>[h("span",pn,A(u.title),1),o(oa),s(u)?(g(),f(P,{key:0,icon:d(u)},null,8,["icon"])):B("",!0)]),_:2},1032,["onClick"])]))),128))])]),"item.opsi":p(({item:r})=>[o(j,null,{default:p(()=>[o(D,{class:"mr-1",size:"32",variant:"tonal",elevation:0,color:"secondary",onClick:s=>l(e).setDialog(r,ja,"update")},{default:p(()=>[o(P,{size:"20",icon:"$pencil"})]),_:2},1032,["onClick"]),o(D,{size:"32",variant:"tonal",elevation:0,color:"error",onClick:s=>l(e).setDialog(r,ja,"delete")},{default:p(()=>[o(P,{size:"20",icon:"$delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["search","items","headers","custom-key-sort"])]),_:1})]),_:1})):B("",!0)]),_:1}))}}),T=xe({locale:"en",fallbackLocale:"en",legacy:!1,messages:{},numberFormats:{id:{currency:{style:"currency",currency:"IDR",currencyDisplay:"symbol",minimumFractionDigits:0,maximumFractionDigits:0},decimal:{style:"decimal"}}}}),Q=ea("sopir-store",{state:()=>({sopirs:na("sopirs",[]),formattedSopirs:[],form:{nama_lengkap:{value:"",error:""},nomor_hp:{value:"",digit:"",error:""},nomor_sim:{value:"",digit:"",error:""},asal_pks:{value:"",error:""},tujuan_pks:{value:"",error:""},uang_minyak:{value:"",digit:"",error:""}},search:""}),actions:{async create(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation()){a.loading=!1;return}const e=this.form.nama_lengkap.value,n=this.form.nomor_hp.value,t=this.form.nomor_sim.value,i=this.form.asal_pks.value,r=this.form.tujuan_pks.value,s=Number(this.form.uang_minyak.digit);this.sopirs.push({id:this.sopirs.length===0?1:this.sopirs[this.sopirs.length-1].id+1,nama_lengkap:e,nomor_hp:`+62 ${n}`,nomor_sim:t,asal_pks:i,tujuan_pks:r,uang_minyak:s,jumlah_pendapatan:0,jumlah_pengiriman:0}),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Tambah Data Sopir")},async update(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation()){a.loading=!1;return}const e=a.dialog.item,n=this.form.nama_lengkap.value,t=this.form.nomor_hp.value,i=this.form.nomor_sim.value,r=this.form.asal_pks.value,s=this.form.tujuan_pks.value,d=Number(this.form.uang_minyak.digit),m=this.sopirs.findIndex(u=>u.id===e.id);m!==-1&&(this.sopirs[m].nama_lengkap=n,this.sopirs[m].nomor_hp=`+62 ${t}`,this.sopirs[m].nomor_sim=i,this.sopirs[m].asal_pks=r,this.sopirs[m].tujuan_pks=s,this.sopirs[m].uang_minyak=d),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Ubah Data Sopir")},async delete(){const a=y();if(a.loading)return;a.loading=!0;const e=a.dialog.item,n=this.sopirs.findIndex(t=>t.id===e.id);n!==-1&&this.sopirs.splice(n,1),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Hapus Data Sopir")},async namaLengkapValidation(){const a=/ {2,}/g,e=/^ {1,}/gm,n=/[^a-zA-Z ]/g;let t=this.form.nama_lengkap.value,i="";t=t.replace(a," ").replace(e,"").replace(n,""),t?t.length>50&&(i="Nama Lengkap Terlalu Panjang!"):i="Nama Lengkap Tidak Boleh Kosong!",await x(()=>{this.form.nama_lengkap.value=t,this.form.nama_lengkap.error=i})},async nomorHPValidation(){const a=/^[^8]+|\D+/g,e=/^.{14,}$/g,n=/[-]+|\D+/g;let t=this.form.nomor_hp.value,i="",r="";t=t.replace(a,"").replace(e,t.substring(0,14)),t?(i=t.replace(n,""),i.length<9?r="Nomor HP Minimal 9 Digit!":i.length>12&&(i=i.substring(0,12)),t=i.toNomorHP()):r="Nomor HP Tidak Boleh Kosong!",await x(()=>{this.form.nomor_hp.value=t,this.form.nomor_hp.digit=i,this.form.nomor_hp.error=r})},async nomorSIMValidation(){const a=/^0+|\D+/g,e=/^.{16,}$/g,n=/[-]+|\D+/g;let t=this.form.nomor_sim.value,i="",r="";t=t.replace(a,"").replace(e,t.substring(0,16)),t?(i=t.replace(n,""),i.length<14?r="Nomor SIM Harus 14 Digit!":i.length>14&&(i=i.substring(0,14)),t=i.toNomorSIM()):r="Nomor SIM Tidak Boleh Kosong!",await x(()=>{this.form.nomor_sim.value=t,this.form.nomor_sim.digit=i,this.form.nomor_sim.error=r})},async asalPKSValidation(){const a=/ {2,}/g,e=/^ {1,}/gm;let n=this.form.asal_pks.value,t="";n=n.replace(a," ").replace(e,""),n?n.length>50&&(t="Asal PKS Terlalu Panjang!"):t="Asal PKS Tidak Boleh Kosong!",await x(()=>{this.form.asal_pks.value=n,this.form.asal_pks.error=t})},async tujuanPKSValidation(){const a=/ {2,}/g,e=/^ {1,}/gm;let n=this.form.tujuan_pks.value,t="";n=n.replace(a," ").replace(e,""),n?n.length>50&&(t="Tujuan PKS Terlalu Panjang!"):t="Tujuan PKS Tidak Boleh Kosong!",await x(()=>{this.form.tujuan_pks.value=n,this.form.tujuan_pks.error=t})},async uangMinyakValidation(){const a=/\D+/g,e=/^0\d+/g,n=/[.]+|\D+/g;let t=this.form.uang_minyak.value,i="",r="";t=t.replace(a,"").replace(e,"0"),t?(r=t.replace(n,""),r.length>9&&(r=r.substring(0,9)),t=T.global.n(Number(r),"decimal","id")):i="Uang Minyak Tidak Boleh Kosong!",await x(()=>{this.form.uang_minyak.value=t,this.form.uang_minyak.error=i,this.form.uang_minyak.digit=r})},async checkValidation(){if(await Promise.all([this.namaLengkapValidation(),this.nomorHPValidation(),this.nomorSIMValidation(),this.asalPKSValidation(),this.tujuanPKSValidation(),this.uangMinyakValidation()]),!this.isValidationValid){const a=y(),e=this.form.nama_lengkap.error,n=this.form.nomor_hp.error,t=this.form.nomor_sim.error,i=this.form.asal_pks.error,r=this.form.tujuan_pks.error,s=this.form.uang_minyak.error;return a.setAlerts("error","Aksi Gagal",`${e?`${e}
`:""}${n?`${n}
`:""}${t?`${t}
`:""}${i?`${i}
`:""}${r?`${r}
`:""}${s?`${s}
`:""}`),!1}return!0},afterAction(){const a=y();this.resetForm(),a.resetDialog()},resetForm(){this.form={nama_lengkap:{value:"",error:""},nomor_hp:{value:"",digit:"",error:""},nomor_sim:{value:"",digit:"",error:""},asal_pks:{value:"",error:""},tujuan_pks:{value:"",error:""},uang_minyak:{value:"",digit:"",error:""}}},customKeySort(){return{nomor:(a,e)=>a-e,nama_lengkap:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),nomor_hp:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),nomor_sim:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),asal_pks:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),tujuan_pks:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),uang_minyak:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},jumlah_pendapatan:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},jumlah_pengiriman:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t}}}},getters:{isValidationValid(a){const e=a.form.nama_lengkap.error,n=a.form.nomor_hp.error,t=a.form.nomor_sim.error,i=a.form.asal_pks.error,r=a.form.tujuan_pks.error,s=a.form.uang_minyak.error;return e===""&&n===""&&t===""&&i===""&&r===""&&s===""},getTableHeaders(){return[{title:"Opsi",value:"opsi",sortable:!1,nowrap:!0,align:"center"},{title:"Nomor",value:"nomor",sortable:!0,nowrap:!0,align:"center"},{title:"Nama Lengkap",value:"nama_lengkap",sortable:!0,nowrap:!0,align:"start"},{title:"Nomor HP",value:"nomor_hp",sortable:!0,nowrap:!0,align:"start"},{title:"Nomor SIM",value:"nomor_sim",sortable:!0,nowrap:!0,align:"start"},{title:"Asal PKS",value:"asal_pks",sortable:!0,nowrap:!0,align:"start"},{title:"Tujuan PKS",value:"tujuan_pks",sortable:!0,nowrap:!0,align:"start"},{title:"Uang Minyak",value:"uang_minyak",sortable:!0,nowrap:!0,align:"start"},{title:"Jumlah Pendapatan",value:"jumlah_pendapatan",sortable:!0,nowrap:!0,align:"start"},{title:"Jumlah Pengiriman",value:"jumlah_pengiriman",sortable:!0,nowrap:!0,align:"center"}]}}});function gn(a){return a.map((e,n)=>{const t=`${T.global.n(e.uang_minyak,"currency","id")}`,i=`${T.global.n(e.jumlah_pendapatan,"currency","id")}`,r=`${T.global.n(e.jumlah_pengiriman,"decimal","id")}`;return{id:e.id,nomor:n+1,nama_lengkap:e.nama_lengkap,nomor_hp:e.nomor_hp,nomor_sim:e.nomor_sim,asal_pks:e.asal_pks,tujuan_pks:e.tujuan_pks,uang_minyak:t,jumlah_pendapatan:i,jumlah_pengiriman:r}})}function cn(){return[{id:1,nama_lengkap:"Budi Santoso",nomor_hp:"+62 812-3456-7890",nomor_sim:"1284-6521-845210",asal_pks:"PT Maju Bersama",tujuan_pks:"PT Cahaya Sejahtera",uang_minyak:47e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:2,nama_lengkap:"Andi Wijaya",nomor_hp:"+62 813-2345-6789",nomor_sim:"1193-7654-231098",asal_pks:"PT Sukses Selalu",tujuan_pks:"PT Purnama Indah",uang_minyak:42e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:3,nama_lengkap:"Siti Rahmawati",nomor_hp:"+62 814-5432-6789",nomor_sim:"1072-9834-621047",asal_pks:"PT Sejahtera Abadi",tujuan_pks:"PT Sumber Rejeki",uang_minyak:45e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:4,nama_lengkap:"Ahmad Hidayat",nomor_hp:"+62 815-6789-4321",nomor_sim:"1234-5678-910111",asal_pks:"PT Mitra Utama",tujuan_pks:"PT Dwi Tunggal",uang_minyak:41e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:5,nama_lengkap:"Dewi Sartika",nomor_hp:"+62 816-7890-1234",nomor_sim:"1345-8765-432109",asal_pks:"PT Citra Nusantara",tujuan_pks:"PT Sukses Selalu",uang_minyak:46e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:6,nama_lengkap:"Rudi Hartono",nomor_hp:"+62 817-8901-2345",nomor_sim:"1463-2958-761024",asal_pks:"PT Purnama Indah",tujuan_pks:"PT Cipta Karya",uang_minyak:43e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:7,nama_lengkap:"Fitriani Putri",nomor_hp:"+62 818-9012-3456",nomor_sim:"1582-3746-982013",asal_pks:"PT Harapan Jaya",tujuan_pks:"PT Dinamika Utama",uang_minyak:44e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:8,nama_lengkap:"Bambang Sutejo",nomor_hp:"+62 819-0123-4567",nomor_sim:"1674-2319-481039",asal_pks:"PT Artha Mandiri",tujuan_pks:"PT Mulia Sejahtera",uang_minyak:42e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:9,nama_lengkap:"Sri Wahyuni",nomor_hp:"+62 820-1234-5678",nomor_sim:"1736-9823-491020",asal_pks:"PT Karya Bersama",tujuan_pks:"PT Mega Sentosa",uang_minyak:45e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:10,nama_lengkap:"Joko Susilo",nomor_hp:"+62 821-2345-6789",nomor_sim:"1847-1938-561024",asal_pks:"PT Agung Pratama",tujuan_pks:"PT Serba Jaya",uang_minyak:47e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:11,nama_lengkap:"Mila Karmila",nomor_hp:"+62 822-3456-7890",nomor_sim:"1958-2039-671021",asal_pks:"PT Sumber Rejeki",tujuan_pks:"PT Sejahtera Abadi",uang_minyak:43e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:12,nama_lengkap:"Herman Setiawan",nomor_hp:"+62 823-4567-8901",nomor_sim:"2093-7619-283019",asal_pks:"PT Dwi Tunggal",tujuan_pks:"PT Maju Bersama",uang_minyak:41e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:13,nama_lengkap:"Ayu Lestari",nomor_hp:"+62 824-5678-9012",nomor_sim:"2184-7630-391028",asal_pks:"PT Cipta Karya",tujuan_pks:"PT Mitra Utama",uang_minyak:46e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:14,nama_lengkap:"Slamet Riyadi",nomor_hp:"+62 825-6789-0123",nomor_sim:"2295-4738-201037",asal_pks:"PT Cahaya Sejahtera",tujuan_pks:"PT Artha Mandiri",uang_minyak:42e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:15,nama_lengkap:"Nina Astuti",nomor_hp:"+62 826-7890-1234",nomor_sim:"2386-9823-104918",asal_pks:"PT Mega Sentosa",tujuan_pks:"PT Karya Bersama",uang_minyak:45e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:16,nama_lengkap:"Rizki Pratama",nomor_hp:"+62 827-8901-2345",nomor_sim:"2487-3219-485020",asal_pks:"PT Global Makmur",tujuan_pks:"PT Citra Nusantara",uang_minyak:47e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:17,nama_lengkap:"Susi Susanti",nomor_hp:"+62 828-9012-3456",nomor_sim:"2598-1738-209431",asal_pks:"PT Dinamika Utama",tujuan_pks:"PT Agung Pratama",uang_minyak:43e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:18,nama_lengkap:"Asep Rahman",nomor_hp:"+62 829-0123-4567",nomor_sim:"2679-3819-204031",asal_pks:"PT Serba Jaya",tujuan_pks:"PT Harapan Jaya",uang_minyak:41e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:19,nama_lengkap:"Linda Aulia",nomor_hp:"+62 830-1234-5678",nomor_sim:"2780-4910-572036",asal_pks:"PT Tunas Harapan",tujuan_pks:"PT Global Makmur",uang_minyak:46e4,jumlah_pendapatan:0,jumlah_pengiriman:0},{id:20,nama_lengkap:"Bayu Prasetyo",nomor_hp:"+62 831-2345-6789",nomor_sim:"2891-2039-781029",asal_pks:"PT Mulia Sejahtera",tujuan_pks:"PT Tunas Harapan",uang_minyak:42e4,jumlah_pendapatan:0,jumlah_pengiriman:0}]}const hn={class:"text-h6 font-weight-bold text-center mx-auto"},kn=h("span",{class:"font-weight-bold mx-auto"}," Detail ",-1),fn={class:"font-weight-medium"},_n=h("span",null," Â :Â  ",-1),bn=h("div",{class:"my-4"},null,-1),ya=K({__name:"SopirDialogView",props:{action:{type:String,required:!0}},setup(a){const e=a,n=y(),t=Q(),i=M(()=>n.dialog.item),r=M(()=>e.action==="create"?"Tambah":e.action==="update"?"Ubah":"Hapus"),s=M(()=>[{title:"Nama Lengkap",value:i.value.nama_lengkap},{title:"Nomor HP",value:i.value.nomor_hp},{title:"Nomor SIM",value:i.value.nomor_sim},{title:"Asal PKS",value:i.value.asal_pks},{title:"Tujuan PKS",value:i.value.tujuan_pks},{title:"Uang Minyak",value:i.value.uang_minyak},{title:"Jumlah Pendapatan",value:i.value.jumlah_pendapatan},{title:"Jumlah Pengiriman",value:i.value.jumlah_pengiriman}]);return ia(()=>{e.action==="update"&&(t.form.nama_lengkap.value=i.value.nama_lengkap,t.form.nomor_hp.value=i.value.nomor_hp,t.form.nomor_sim.value=i.value.nomor_sim,t.form.asal_pks.value=i.value.asal_pks,t.form.tujuan_pks.value=i.value.tujuan_pks,t.form.uang_minyak.value=i.value.uang_minyak,t.namaLengkapValidation(),t.nomorHPValidation(),t.nomorSIMValidation(),t.asalPKSValidation(),t.tujuanPKSValidation(),t.uangMinyakValidation())}),(d,m)=>(g(),b(w,null,[o(j,{class:"position-relative mb-8"},{default:p(()=>[o(D,{position:"absolute",size:"32px",variant:"tonal",elevation:0,onClick:m[0]||(m[0]=()=>{l(t).resetForm(),l(n).resetDialog()})},{default:p(()=>[o(P,{size:"20px",icon:"$close",color:"surface"})]),_:1}),h("span",hn,A(r.value)+" Sopir ",1)]),_:1}),a.action==="delete"?(g(),b(w,{key:0},[o(j,null,{default:p(()=>[o(C,{class:"pa-1 mx-auto",color:"surface",elevation:4},{default:p(()=>[o(P,{icon:"$alert",size:"128px",color:"primary"})]),_:1})]),_:1}),o(j,{class:"d-flex flex-column mt-8"},{default:p(()=>[kn,o(ta,{class:"overflow-auto align-self-center","grid-template-columns":"minmax(0px, 1fr) auto minmax(0px, 1fr)",width:"fit-content"},{default:p(()=>[(g(!0),b(w,null,I(s.value,(u,c)=>(g(),b(w,{key:c},[h("span",fn,A(u.title),1),_n,h("span",null,A(u.value),1)],64))),128))]),_:1})]),_:1})],64)):(g(),f(W,{key:1},{default:p(()=>[o($,{modelValue:l(t).form.nama_lengkap.value,"onUpdate:modelValue":[m[1]||(m[1]=u=>l(t).form.nama_lengkap.value=u),m[2]||(m[2]=u=>l(t).namaLengkapValidation())],label:"Nama Lengkap",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$account",passive:"$account-outline"},autocomplete:"name"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.nomor_hp.value,"onUpdate:modelValue":[m[3]||(m[3]=u=>l(t).form.nomor_hp.value=u),m[4]||(m[4]=u=>l(t).nomorHPValidation())],label:"Nomor HP",placeholder:"8XX-XXXX-XXXX","prepend-inner-icon":{active:"$phone",passive:"$phone-outline"},prefix:"+62"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.nomor_sim.value,"onUpdate:modelValue":[m[5]||(m[5]=u=>l(t).form.nomor_sim.value=u),m[6]||(m[6]=u=>l(t).nomorSIMValidation())],label:"Nomor SIM",placeholder:"XXXX-XXXX-XXXXXX","prepend-inner-icon":{active:"$card-account-details",passive:"$card-account-details-outline"}},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.asal_pks.value,"onUpdate:modelValue":[m[7]||(m[7]=u=>l(t).form.asal_pks.value=u),m[8]||(m[8]=u=>l(t).asalPKSValidation())],label:"Asal PKS",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$office-building",passive:"$office-building-outline"},autocomplete:"organization-title"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.tujuan_pks.value,"onUpdate:modelValue":[m[9]||(m[9]=u=>l(t).form.tujuan_pks.value=u),m[10]||(m[10]=u=>l(t).tujuanPKSValidation())],label:"Tujuan PKS",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$office-building-marker",passive:"$office-building-marker-outline"},autocomplete:"organization-title"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.uang_minyak.value,"onUpdate:modelValue":[m[11]||(m[11]=u=>l(t).form.uang_minyak.value=u),m[12]||(m[12]=u=>l(t).uangMinyakValidation())],label:"Uang Minyak",placeholder:"500.000","prepend-inner-icon":{active:"$account-cash",passive:"$account-cash-outline"},prefix:"Rp"},null,8,["modelValue"])]),_:1})),bn,o(D,{height:"56px",block:"",color:"secondary",onClick:m[13]||(m[13]=()=>{l(t)[a.action]()})},{default:p(()=>[O(A(a.action.toCapitalizeCase()),1)]),_:1})],64))}}),An={class:"text-body-1 font-weight-bold text-no-wrap mr-2"},vn=K({__name:"SopirView",setup(a){const e=y(),n=Q(),t=i=>{var r,s;return(((s=(r=n.sopirs)==null?void 0:r.find(d=>d.id===i))==null?void 0:s.jumlah_pengiriman)||0)>0};return U(()=>[e.active.child,n.sopirs],i=>{i[0]&&i[1]&&(n.formattedSopirs=gn(n.sopirs),e.loading=!1)},{immediate:!0,deep:!0}),(i,r)=>(g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.child?(g(),f(j,{key:0,class:"d-scroll pa-2 overflow-auto","min-height":"fit-content","max-height":"100vh"},{default:p(()=>[o(C,{class:"ma-auto pa-4",color:"surface","min-width":"100%",width:"0px"},{default:p(()=>[o(ra,{search:l(n).search,items:l(n).formattedSopirs,headers:l(n).getTableHeaders,"custom-key-sort":l(n).customKeySort()},{top:p(()=>[o(j,{class:"pt-1 pb-2"},{default:p(()=>[o(D,{height:"56px",color:"secondary",onClick:r[0]||(r[0]=s=>l(e).setDialog(void 0,ya,"create"))},{default:p(()=>[O(" Tambah Sopir ")]),_:1}),o(v,{class:"mx-2",color:"transparent",vertical:""}),o($,{modelValue:l(n).search,"onUpdate:modelValue":r[1]||(r[1]=s=>l(n).search=s),label:"Cari Data Sopir","prepend-inner-icon":{active:"$text-box-search",passive:"$text-box-search-outline"},clearable:""},null,8,["modelValue"])]),_:1})]),headers:p(({columns:s,isSorted:d,getSortIcon:m,toggleSort:u})=>[h("tr",null,[(g(!0),b(w,null,I(s,c=>(g(),b("td",{key:c.key,class:"pa-1"},[o(C,{class:"d-flex align-center pa-4",variant:"tonal",width:"100%",height:"100%",color:"primary",onClick:()=>{c.sortable&&u(c)}},{default:p(()=>[h("span",An,A(c.title),1),o(oa),d(c)?(g(),f(P,{key:0,icon:m(c)},null,8,["icon"])):B("",!0)]),_:2},1032,["onClick"])]))),128))])]),"item.opsi":p(({item:s})=>[o(j,null,{default:p(()=>[o(D,{class:"mr-1",size:"32",variant:"tonal",elevation:0,color:"secondary",onClick:d=>l(e).setDialog(s,ya,"update")},{default:p(()=>[o(P,{size:"20",icon:"$pencil"})]),_:2},1032,["onClick"]),o(D,{size:"32",variant:t(s.id)?"text":"tonal",elevation:0,color:"error",disabled:t(s.id),onClick:()=>{t(s.id)||l(e).setDialog(s,ya,"delete")}},{default:p(()=>[o(P,{size:"20",icon:"$delete"})]),_:2},1032,["variant","disabled","onClick"])]),_:2},1024)]),_:1},8,["search","items","headers","custom-key-sort"])]),_:1})]),_:1})):B("",!0)]),_:1}))}});var V=(a=>(a.Solar="Solar",a.Dexlite="Dexlite",a.PertaminaDex="Pertamina Dex",a.Pertalite="Pertalite",a.Pertamax="Pertamax",a.PertamaxTurbo="Pertamax Turbo",a))(V||{}),S=(a=>(a.Red="Merah",a.Pink="Merah Muda",a.Purple="Ungu",a.Indigo="Nila",a.Blue="Biru",a.Cyan="Biru Muda",a.Teal="Biru Kehijauan",a.Green="Hijau",a.Lime="Hijau Muda",a.Yellow="Kuning",a.Amber="Kuning Tua",a.Orange="Oranye",a.Brown="Cokelat",a.Grey="Abu-Abu",a.White="Putih",a.Black="Hitam",a))(S||{});const H=ea("mobil-store",{state:()=>({mobils:na("mobils",[]),formattedMobils:[],form:{merek:{value:"",error:""},jenis:{value:"",error:""},nomor_polisi:{value:"",error:""},nama:{value:"",error:""},jenis_bbm:{value:null,error:""},warna:{value:null,error:""},harga:{value:"",digit:"",error:""},biaya_pajak:{value:"",digit:"",error:""},jatuh_tempo_pajak:{value:null,error:""}},search:""}),actions:{async create(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation()){a.loading=!1;return}const e=this.form.merek.value,n=this.form.jenis.value,t=this.form.nomor_polisi.value,i=this.form.nama.value,r=this.form.jenis_bbm.value,s=this.form.warna.value,d=this.form.harga.digit,m=this.form.biaya_pajak.digit,u=this.form.jatuh_tempo_pajak.value;this.mobils.push({id:this.mobils.length===0?1:this.mobils[this.mobils.length-1].id+1,merek:e,jenis:n,nomor_polisi:t,nama:i,jenis_bbm:r,warna:s,harga:Number(d),biaya_pajak:Number(m),jatuh_tempo_pajak:u,jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0}),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Tambah Data Mobil")},async update(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation()){a.loading=!1;return}const e=a.dialog.item,n=this.form.merek.value,t=this.form.jenis.value,i=this.form.nomor_polisi.value,r=this.form.nama.value,s=this.form.jenis_bbm.value,d=this.form.warna.value,m=this.form.harga.digit,u=this.form.biaya_pajak.digit,c=this.form.jatuh_tempo_pajak.value,k=this.mobils.findIndex(N=>N.id===e.id);k!==-1&&(this.mobils[k].merek=n,this.mobils[k].jenis=t,this.mobils[k].nomor_polisi=i,this.mobils[k].nama=r,this.mobils[k].jenis_bbm=s,this.mobils[k].warna=d,this.mobils[k].harga=Number(m),this.mobils[k].biaya_pajak=Number(u),this.mobils[k].jatuh_tempo_pajak=c),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Ubah Data Mobil")},async delete(){const a=y();if(a.loading)return;a.loading=!0;const e=a.dialog.item,n=this.mobils.findIndex(t=>t.id===e.id);n!==-1&&this.mobils.splice(n,1),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Hapus Data Mobil")},async merekValidation(){const a=/ {2,}/g,e=/^ {1,}/gm;let n=this.form.merek.value,t="";n=n.replace(a," ").replace(e,""),n?n.length>50&&(t="Merek Terlalu Panjang!"):t="Merek Tidak Boleh Kosong!",await x(()=>{this.form.merek.value=n,this.form.merek.error=t})},async jenisValidation(){const a=/ {2,}/g,e=/^ {1,}/gm;let n=this.form.jenis.value,t="";n=n.replace(a," ").replace(e,""),n?n.length>50&&(t="Jenis Terlalu Panjang!"):t="Jenis Tidak Boleh Kosong!",await x(()=>{this.form.jenis.value=n,this.form.jenis.error=t})},async nomorPolisiValidation(){const a=/^[^A-Z]+|[^A-Z0-9]|\s+0+/g,e=/^[A-Z]{3,}|^[A-Z]+0+/,n=/([A-Z]{1,2})([1-9]{1}[0-9]{0,3})/,t=/([A-Z]{1,2})([1-9]{1}[0-9]{0,3})([A-Z]{1,3})/;let i=this.form.nomor_polisi.value.toUpperCase();i=i.replace(a,"").replace(e,i.substring(0,2));const r=i;let s=r.match(n);s&&(i=`${s[1]} ${s[2]}`),s=r.match(t),s&&(i=`${s[1]} ${s[2]} ${s[3]}`),await x(()=>{this.form.nomor_polisi.value=i})},async namaValidation(){const a=/ {2,}/g,e=/^ {1,}/gm;let n=this.form.nama.value,t="";n=n.replace(a," ").replace(e,""),n?n.length>50&&(t="Nama Terlalu Panjang!"):t="Nama Tidak Boleh Kosong!",await x(()=>{this.form.nama.value=n,this.form.nama.error=t})},async jenisBBMValidation(){const a=this.form.warna.value;let e="";a?Object.values(S).includes(a)||(e="Warna Tidak Valid!"):e="Warna Tidak Boleh Kosong!",await x(()=>{this.form.warna.value=a,this.form.warna.error=e})},async warnaValidation(){const a=this.form.warna.value;let e="";a?Object.values(S).includes(a)||(e="Warna Tidak Valid!"):e="Warna Tidak Boleh Kosong!",await x(()=>{this.form.warna.value=a,this.form.warna.error=e})},async hargaValidation(){const a=/\D+/g,e=/^0\d+/g,n=/[.]+|\D+/g;let t=this.form.harga.value,i="",r="";t=t.replace(a,"").replace(e,"0"),t?(r=t.replace(n,""),r.length>12&&(r=r.substring(0,12)),t=T.global.n(Number(r),"decimal","id")):i="Harga Tidak Boleh Kosong!",await x(()=>{this.form.harga.value=t,this.form.harga.error=i,this.form.harga.digit=r})},async biayaPajakValidation(){const a=/\D+/g,e=/^0\d+/g,n=/[.]+|\D+/g;let t=this.form.biaya_pajak.value,i="",r="";t=t.replace(a,"").replace(e,"0"),t?(r=t.replace(n,""),r.length>9&&(r=r.substring(0,9)),t=T.global.n(Number(r),"decimal","id")):i="Biaya Pajak Tidak Boleh Kosong!",await x(()=>{this.form.biaya_pajak.value=t,this.form.biaya_pajak.error=i,this.form.biaya_pajak.digit=r})},async jatuhTempoPajakValidation(){const a=this.form.jatuh_tempo_pajak.value;let e="";const n=new Date;n.setHours(0,0,0,0),a?a.getTime()<=n.getTime()&&(e="Jatuh Tempo Pajak Tidak Boleh Masa Lalu!"):e="Jatuh Tempo Pajak Tidak Boleh Kosong!",await x(()=>{this.form.jatuh_tempo_pajak.value=a,this.form.jatuh_tempo_pajak.error=e})},async checkValidation(){if(await Promise.all([this.merekValidation(),this.jenisValidation(),this.nomorPolisiValidation(),this.namaValidation(),this.jenisBBMValidation(),this.warnaValidation(),this.hargaValidation(),this.biayaPajakValidation(),this.jatuhTempoPajakValidation()]),!this.isValidationValid){const a=y(),e=this.form.merek.error,n=this.form.jenis.error,t=this.form.nomor_polisi.error,i=this.form.nama.error,r=this.form.jenis_bbm.error,s=this.form.warna.error,d=this.form.harga.error,m=this.form.biaya_pajak.error,u=this.form.jatuh_tempo_pajak.error;return a.setAlerts("error","Aksi Gagal",`${e?`${e}
`:""}${n?`${n}
`:""}${t?`${t}
`:""}${i?`${i}
`:""}${r?`${r}
`:""}${s?`${s}
`:""}${d?`${d}
`:""}${m?`${m}
`:""}${u?`${u}
`:""}`),!1}return!0},afterAction(){const a=y();this.resetForm(),a.resetDialog()},resetForm(){this.form={merek:{value:"",error:""},jenis:{value:"",error:""},nomor_polisi:{value:"",error:""},nama:{value:"",error:""},jenis_bbm:{value:null,error:""},warna:{value:null,error:""},harga:{value:"",digit:"",error:""},biaya_pajak:{value:"",digit:"",error:""},jatuh_tempo_pajak:{value:null,error:""}}},customKeySort(){return{nomor:(a,e)=>a-e,merek:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),jenis:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),nomor_polisi:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),nama:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),jenis_bbm:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),warna:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),harga:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},biaya_pajak:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},jatuh_tempo_pajak:(a,e)=>{const n="EEEE, dd MMMM yyyy",t=E(a,n,new Date,{locale:R}),i=E(e,n,new Date,{locale:R});return t.getTime()-i.getTime()},jumlah_pendapatan:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},jumlah_pengeluaran:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},jumlah_penggunaan:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t}}}},getters:{isValidationValid(a){const e=a.form.merek.error,n=a.form.jenis.error,t=a.form.nomor_polisi.error,i=a.form.nama.error,r=a.form.jenis_bbm.error,s=a.form.warna.error,d=a.form.harga.error,m=a.form.biaya_pajak.error,u=a.form.jatuh_tempo_pajak.error;return e===""&&n===""&&t===""&&i===""&&r===""&&s===""&&d===""&&m===""&&u===""},getTableHeaders(){return[{title:"Opsi",value:"opsi",sortable:!1,nowrap:!0,align:"center"},{title:"Nomor",value:"nomor",sortable:!0,nowrap:!0,align:"center"},{title:"Merek",value:"merek",sortable:!0,nowrap:!0,align:"start"},{title:"Jenis",value:"jenis",sortable:!0,nowrap:!0,align:"start"},{title:"Nomor Polisi",value:"nomor_polisi",sortable:!0,nowrap:!0,align:"start"},{title:"Nama",value:"nama",sortable:!0,nowrap:!0,align:"start"},{title:"Jenis BBM",value:"jenis_bbm",sortable:!0,nowrap:!0,align:"start"},{title:"Warna",value:"warna",sortable:!0,nowrap:!0,align:"start"},{title:"Harga",value:"harga",sortable:!0,nowrap:!0,align:"start"},{title:"Biaya Pajak",value:"biaya_pajak",sortable:!0,nowrap:!0,align:"start"},{title:"Jatuh Tempo Pajak",value:"jatuh_tempo_pajak",sortable:!0,nowrap:!0,align:"start"},{title:"Jumlah Pendapatan",value:"jumlah_pendapatan",sortable:!0,nowrap:!0,align:"start"},{title:"Jumlah Pengeluaran",value:"jumlah_pengeluaran",sortable:!0,nowrap:!0,align:"start"},{title:"Jumlah Penggunaan",value:"jumlah_penggunaan",sortable:!0,nowrap:!0,align:"center"}]}}});function jn(a){return a.map((e,n)=>{const t=`${T.global.n(e.harga,"currency","id")}`,i=`${T.global.n(e.biaya_pajak,"currency","id")}`,r=new Date(e.jatuh_tempo_pajak).toLocaleDateString("id",{dateStyle:"full"}),s=`${T.global.n(e.jumlah_pendapatan,"currency","id")}`,d=`${T.global.n(e.jumlah_pengeluaran,"currency","id")}`,m=`${T.global.n(e.jumlah_penggunaan,"decimal","id")}`;return{id:e.id,nomor:n+1,merek:e.merek,jenis:e.jenis,nomor_polisi:e.nomor_polisi,nama:e.nama,jenis_bbm:e.jenis_bbm,warna:e.warna,harga:t,biaya_pajak:i,jatuh_tempo_pajak:r,jumlah_pendapatan:s,jumlah_pengeluaran:d,jumlah_penggunaan:m}})}function yn(){return[{id:1,merek:"Mitsubishi",jenis:"Pickup",nomor_polisi:"KB 2384 Q",nama:"L300",jenis_bbm:V.Pertalite,warna:S.Brown,harga:217e6,biaya_pajak:434e4,jatuh_tempo_pajak:new Date(2026,2,15),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:2,merek:"Mitsubishi",jenis:"Truck",nomor_polisi:"KB 4123 MN",nama:"Colt Diesel FE 74 HD",jenis_bbm:V.Solar,warna:S.Orange,harga:34e7,biaya_pajak:68e5,jatuh_tempo_pajak:new Date(2028,4,27),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:3,merek:"Mitsubishi",jenis:"Truck",nomor_polisi:"KB 7546 R",nama:"Colt Diesel FE SHD-X 6.666",jenis_bbm:V.Solar,warna:S.Cyan,harga:365e6,biaya_pajak:73e5,jatuh_tempo_pajak:new Date(2027,7,9),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:4,merek:"Mitsubishi",jenis:"Truck",nomor_polisi:"KB 189 HJK",nama:"Fuso FM 517 HS",jenis_bbm:V.Solar,warna:S.Teal,harga:46e7,biaya_pajak:92e5,jatuh_tempo_pajak:new Date(2029,10,18),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:5,merek:"Mitsubishi",jenis:"Truck",nomor_polisi:"KB 2072 BL",nama:"Fuso FM 517 HL Long",jenis_bbm:V.Solar,warna:S.Lime,harga:51e7,biaya_pajak:102e5,jatuh_tempo_pajak:new Date(2030,1,5),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:6,merek:"Mitsubishi",jenis:"Truck",nomor_polisi:"KB 381 NC",nama:"Fuso FJ 2528",jenis_bbm:V.Solar,warna:S.Green,harga:95e7,biaya_pajak:19e6,jatuh_tempo_pajak:new Date(2025,5,20),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:7,merek:"Mitsubishi",jenis:"Truck",nomor_polisi:"KB 7840 J",nama:"Fuso FN 517 ML2 Super Long",jenis_bbm:V.Solar,warna:S.Amber,harga:67e7,biaya_pajak:134e5,jatuh_tempo_pajak:new Date(2031,8,3),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:8,merek:"Mitsubishi",jenis:"Truck",nomor_polisi:"KB 1902 WB",nama:"Fuso FM 517 HL",jenis_bbm:V.Solar,warna:S.Pink,harga:51e7,biaya_pajak:102e5,jatuh_tempo_pajak:new Date(2032,3,13),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:9,merek:"Mitsubishi",jenis:"Double Cabin",nomor_polisi:"KB 6215 KM",nama:"Triton",jenis_bbm:V.Pertamax,warna:S.Amber,harga:45e7,biaya_pajak:9e6,jatuh_tempo_pajak:new Date(2033,6,25),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:10,merek:"Mitsubishi",jenis:"Minivan",nomor_polisi:"KB 311 BJ",nama:"Delica",jenis_bbm:V.Pertamax,warna:S.Purple,harga:4e8,biaya_pajak:8e6,jatuh_tempo_pajak:new Date(2034,9,16),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:11,merek:"Mitsubishi",jenis:"Bus",nomor_polisi:"KB 4982 TN",nama:"Fuso Rosa Bus",jenis_bbm:V.Solar,warna:S.Indigo,harga:12e8,biaya_pajak:24e6,jatuh_tempo_pajak:new Date(2025,11,30),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:12,merek:"Toyota",jenis:"Double Cabin",nomor_polisi:"KB 2596 PQ",nama:"Hilux",jenis_bbm:V.Pertamax,warna:S.Orange,harga:45e7,biaya_pajak:9e6,jatuh_tempo_pajak:new Date(2027,1,22),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:13,merek:"Toyota",jenis:"Pickup",nomor_polisi:"KB 7904 SC",nama:"Hilux Single Cabin",jenis_bbm:V.Pertamax,warna:S.Black,harga:3e8,biaya_pajak:6e6,jatuh_tempo_pajak:new Date(2030,2,11),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:14,merek:"Toyota",jenis:"Truck",nomor_polisi:"KB 4875 G",nama:"Dyna 110 ST",jenis_bbm:V.Solar,warna:S.Grey,harga:3e8,biaya_pajak:6e6,jatuh_tempo_pajak:new Date(2029,7,8),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:15,merek:"Toyota",jenis:"Truck",nomor_polisi:"KB 1603 VM",nama:"Dyna 130 HT",jenis_bbm:V.Solar,warna:S.Blue,harga:35e7,biaya_pajak:7e6,jatuh_tempo_pajak:new Date(2026,10,14),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:16,merek:"Toyota",jenis:"Truck",nomor_polisi:"KB 2740 YZ",nama:"Dyna 130 XT",jenis_bbm:V.Solar,warna:S.Red,harga:35e7,biaya_pajak:7e6,jatuh_tempo_pajak:new Date(2028,11,19),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:17,merek:"Toyota",jenis:"Truck",nomor_polisi:"KB 3895 XD",nama:"Dyna 150 HT",jenis_bbm:V.Solar,warna:S.Teal,harga:4e8,biaya_pajak:8e6,jatuh_tempo_pajak:new Date(2032,5,4),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:18,merek:"Toyota",jenis:"Truck",nomor_polisi:"KB 7120 TP",nama:"Dyna 150 XT",jenis_bbm:V.Solar,warna:S.Grey,harga:4e8,biaya_pajak:8e6,jatuh_tempo_pajak:new Date(2027,9,21),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:19,merek:"Isuzu",jenis:"Pickup",nomor_polisi:"KB 5409 K",nama:"Traga",jenis_bbm:V.Solar,warna:S.Black,harga:23e7,biaya_pajak:46e5,jatuh_tempo_pajak:new Date(2025,3,17),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:20,merek:"Isuzu",jenis:"Truck",nomor_polisi:"KB 6304 WQ",nama:"ELF NHR 55",jenis_bbm:V.Solar,warna:S.Blue,harga:325e6,biaya_pajak:65e5,jatuh_tempo_pajak:new Date(2026,4,24),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:21,merek:"Isuzu",jenis:"Truck",nomor_polisi:"KB 7502 L",nama:"ELF NKR 55",jenis_bbm:V.Solar,warna:S.Amber,harga:36e7,biaya_pajak:72e5,jatuh_tempo_pajak:new Date(2031,11,7),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:22,merek:"Isuzu",jenis:"Truck",nomor_polisi:"KB 8943 YP",nama:"ELF NKR 71",jenis_bbm:V.Solar,warna:S.Teal,harga:375e6,biaya_pajak:75e5,jatuh_tempo_pajak:new Date(2033,0,29),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:23,merek:"Isuzu",jenis:"Truck",nomor_polisi:"KB 3740 GK",nama:"GIGA FVR 34",jenis_bbm:V.Solar,warna:S.Cyan,harga:85e7,biaya_pajak:17e6,jatuh_tempo_pajak:new Date(2028,6,5),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:24,merek:"Isuzu",jenis:"Truck",nomor_polisi:"KB 9815 V",nama:"GIGA FVM 34",jenis_bbm:V.Solar,warna:S.Lime,harga:9e8,biaya_pajak:18e6,jatuh_tempo_pajak:new Date(2029,8,13),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:25,merek:"Isuzu",jenis:"Truck",nomor_polisi:"KB 1720 BQ",nama:"GIGA FVZ 34",jenis_bbm:V.Solar,warna:S.White,harga:95e7,biaya_pajak:19e6,jatuh_tempo_pajak:new Date(2030,11,2),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:26,merek:"Hino",jenis:"Truck",nomor_polisi:"KB 8634 MX",nama:"Dutro 110 SDL",jenis_bbm:V.Solar,warna:S.Indigo,harga:325e6,biaya_pajak:65e5,jatuh_tempo_pajak:new Date(2031,1,18),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:27,merek:"Hino",jenis:"Truck",nomor_polisi:"KB 5901 NR",nama:"Dutro 130 HDL",jenis_bbm:V.Solar,warna:S.Yellow,harga:36e7,biaya_pajak:72e5,jatuh_tempo_pajak:new Date(2034,3,26),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:28,merek:"Hino",jenis:"Truck",nomor_polisi:"KB 2706 E",nama:"Dutro 130 MDL",jenis_bbm:V.Solar,warna:S.Orange,harga:375e6,biaya_pajak:75e5,jatuh_tempo_pajak:new Date(2025,8,12),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:29,merek:"Hino",jenis:"Truck",nomor_polisi:"KB 3871 UW",nama:"Dutro 130 HDX",jenis_bbm:V.Solar,warna:S.Pink,harga:39e7,biaya_pajak:78e5,jatuh_tempo_pajak:new Date(2026,5,28),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:30,merek:"Hino",jenis:"Truck",nomor_polisi:"KB 4135 B",nama:"Ranger FG 235 JJ",jenis_bbm:V.Solar,warna:S.Green,harga:9e8,biaya_pajak:18e6,jatuh_tempo_pajak:new Date(2027,3,15),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:31,merek:"Hino",jenis:"Truck",nomor_polisi:"KB 6497 TS",nama:"Ranger FM 260 JD",jenis_bbm:V.Solar,warna:S.White,harga:95e7,biaya_pajak:19e6,jatuh_tempo_pajak:new Date(2028,7,23),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:32,merek:"Hino",jenis:"Truck",nomor_polisi:"KB 1538 FR",nama:"Ranger FG 260 TH",jenis_bbm:V.Solar,warna:S.Indigo,harga:97e7,biaya_pajak:194e5,jatuh_tempo_pajak:new Date(2029,11,1),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:33,merek:"Suzuki",jenis:"Pickup",nomor_polisi:"KB 7820 KC",nama:"Carry",jenis_bbm:V.Pertalite,warna:S.Purple,harga:165e6,biaya_pajak:33e5,jatuh_tempo_pajak:new Date(2032,0,9),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:34,merek:"Suzuki",jenis:"Pickup",nomor_polisi:"KB 1945 JN",nama:"Mega Carry",jenis_bbm:V.Pertalite,warna:S.Grey,harga:185e6,biaya_pajak:37e5,jatuh_tempo_pajak:new Date(2025,6,30),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:35,merek:"Suzuki",jenis:"Minivan",nomor_polisi:"KB 3874 WL",nama:"APV",jenis_bbm:V.Pertalite,warna:S.Yellow,harga:21e7,biaya_pajak:42e5,jatuh_tempo_pajak:new Date(2030,4,20),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:36,merek:"Nissan",jenis:"Pickup",nomor_polisi:"KB 5618 MS",nama:"NP300 Navara",jenis_bbm:V.Pertamax,warna:S.White,harga:45e7,biaya_pajak:9e6,jatuh_tempo_pajak:new Date(2033,10,3),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:37,merek:"Nissan",jenis:"Truck",nomor_polisi:"KB 6921 YR",nama:"Quester CDE 250",jenis_bbm:V.Solar,warna:S.Brown,harga:8e8,biaya_pajak:16e6,jatuh_tempo_pajak:new Date(2027,2,7),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:38,merek:"Nissan",jenis:"Truck",nomor_polisi:"KB 2340 QL",nama:"Quester CWE 280",jenis_bbm:V.Solar,warna:S.Red,harga:85e7,biaya_pajak:17e6,jatuh_tempo_pajak:new Date(2034,5,16),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:39,merek:"Nissan",jenis:"Truck",nomor_polisi:"KB 3786 WJ",nama:"Quester GWE 370",jenis_bbm:V.Solar,warna:S.Purple,harga:9e8,biaya_pajak:18e6,jatuh_tempo_pajak:new Date(2026,11,25),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:40,merek:"Daihatsu",jenis:"Pickup",nomor_polisi:"KB 4912 GX",nama:"Gran Max",jenis_bbm:V.Pertalite,warna:S.Pink,harga:165e6,biaya_pajak:33e5,jatuh_tempo_pajak:new Date(2030,6,19),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0},{id:41,merek:"Daihatsu",jenis:"Pickup",nomor_polisi:"KB 6074 DK",nama:"Hi-Max",jenis_bbm:V.Pertalite,warna:S.Blue,harga:145e6,biaya_pajak:29e5,jatuh_tempo_pajak:new Date(2028,0,31),jumlah_pendapatan:0,jumlah_pengeluaran:0,jumlah_penggunaan:0}]}const wn={key:0,class:"text-h5 font-weight-bold"},_a=K({__name:"CustomDatePicker",props:{modelValue:{type:Date,default:null},title:{type:String,default:void 0},min:{type:Date,default:void 0},max:{type:Date,default:void 0}},emits:["update:model-value"],setup(a,{emit:e}){const n=a,t=e,i=M({get:()=>n.modelValue,set:r=>{t("update:model-value",r)}});return(r,s)=>(g(),f(ce,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=d=>i.value=d),title:a.title,min:a.min?new Date(a.min):void 0,max:a.max?new Date(a.max):void 0},{header:p(()=>[o(j,{class:"pl-6 pr-4 pb-4"},{default:p(()=>[i.value?(g(),b("span",wn,A(new Date(i.value).toLocaleDateString("id",{dateStyle:"full"})),1)):B("",!0)]),_:1})]),_:1},8,["modelValue","title","min","max"]))}}),Y=K({__name:"CustomSelect",props:{modelValue:{type:[String,Number,Object,Array,Boolean,null,void 0],required:!0},items:{type:Array,required:!0},itemTitle:{type:String,default:void 0},itemValue:{type:String,default:void 0},itemProps:{type:Function,default:void 0},label:{type:String,default:void 0},placeholder:{type:String,default:void 0},prependInnerIcon:{type:Object,default:void 0},prefix:{type:String,default:void 0},returnObject:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1}},emits:["update:model-value"],setup(a,{emit:e}){const n=a,t=e,i=M({get:()=>n.modelValue,set:r=>{t("update:model-value",r)}});return(r,s)=>(g(),f(he,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=d=>i.value=d),items:a.items,"item-title":a.itemTitle,"item-value":a.itemValue,"item-props":a.itemProps,label:a.label,placeholder:a.placeholder,prefix:a.prefix,"return-object":a.returnObject,clearable:a.clearable},{"prepend-inner":p(({isFocused:d})=>[a.prependInnerIcon?(g(),f(Ba,{key:0,"leave-absolute":""},{default:p(()=>[d.value?(g(),f(P,{key:0,icon:a.prependInnerIcon.active},null,8,["icon"])):(g(),f(P,{key:1,icon:a.prependInnerIcon.passive},null,8,["icon"]))]),_:2},1024)):B("",!0)]),_:1},8,["modelValue","items","item-title","item-value","item-props","label","placeholder","prefix","return-object","clearable"]))}}),Sn={class:"text-h6 font-weight-bold text-center mx-auto"},xn=h("span",{class:"font-weight-bold mx-auto"}," Detail ",-1),Vn={class:"font-weight-medium"},Pn=h("span",null," Â :Â  ",-1),$n=h("div",{class:"my-4"},null,-1),wa=K({__name:"MobilDialogView",props:{action:{type:String,required:!0}},setup(a){const e=a,n=y(),t=H(),i=M(()=>n.dialog.item),r=M(()=>e.action==="create"?"Tambah":e.action==="update"?"Ubah":"Hapus"),s=M(()=>[{title:"Merek",value:i.value.merek},{title:"Jenis",value:i.value.jenis},{title:"Nomor Polisi",value:i.value.nomor_polisi},{title:"Nama",value:i.value.nama},{title:"Jenis BBM",value:i.value.jenis_bbm},{title:"Warna",value:i.value.warna},{title:"Harga",value:i.value.harga},{title:"Biaya Pajak",value:i.value.biaya_pajak},{title:"Jatuh Tempo Pajak",value:i.value.jatuh_tempo_pajak},{title:"Jumlah Pengeluaran",value:i.value.jumlah_pengeluaran},{title:"Jumlah Penggunaan",value:i.value.jumlah_penggunaan}]);return ia(()=>{if(e.action==="update"){const d="EEEE, dd MMMM yyyy";t.form.merek.value=i.value.merek,t.form.jenis.value=i.value.jenis,t.form.nomor_polisi.value=i.value.nomor_polisi,t.form.nama.value=i.value.nama,t.form.jenis_bbm.value=i.value.jenis_bbm,t.form.warna.value=i.value.warna,t.form.harga.value=i.value.harga,t.form.biaya_pajak.value=i.value.biaya_pajak,t.form.jatuh_tempo_pajak.value=E(i.value.jatuh_tempo_pajak,d,new Date,{locale:R}),t.merekValidation(),t.jenisValidation(),t.nomorPolisiValidation(),t.namaValidation(),t.jenisBBMValidation(),t.warnaValidation(),t.hargaValidation(),t.biayaPajakValidation(),t.jatuhTempoPajakValidation()}}),(d,m)=>(g(),b(w,null,[o(j,{class:"position-relative mb-8"},{default:p(()=>[o(D,{position:"absolute",size:"32px",variant:"tonal",elevation:0,onClick:m[0]||(m[0]=()=>{l(t).resetForm(),l(n).resetDialog()})},{default:p(()=>[o(P,{size:"20px",icon:"$close",color:"surface"})]),_:1}),h("span",Sn,A(r.value)+" Mobil ",1)]),_:1}),a.action==="delete"?(g(),b(w,{key:0},[o(j,null,{default:p(()=>[o(C,{class:"pa-1 mx-auto",color:"surface",elevation:4},{default:p(()=>[o(P,{icon:"$alert",size:"128px",color:"primary"})]),_:1})]),_:1}),o(j,{class:"d-flex flex-column mt-8"},{default:p(()=>[xn,o(ta,{class:"overflow-auto align-self-center","grid-template-columns":"minmax(0px, 1fr) auto minmax(0px, 1fr)",width:"fit-content"},{default:p(()=>[(g(!0),b(w,null,I(s.value,(u,c)=>(g(),b(w,{key:c},[h("span",Vn,A(u.title),1),Pn,h("span",null,A(u.value),1)],64))),128))]),_:1})]),_:1})],64)):(g(),f(W,{key:1},{default:p(()=>[o($,{modelValue:l(t).form.merek.value,"onUpdate:modelValue":[m[1]||(m[1]=u=>l(t).form.merek.value=u),m[2]||(m[2]=u=>l(t).merekValidation())],label:"Merek",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$car-estate",passive:"$car-lifted-pickup"}},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.jenis.value,"onUpdate:modelValue":[m[3]||(m[3]=u=>l(t).form.jenis.value=u),m[4]||(m[4]=u=>l(t).jenisValidation())],label:"Jenis",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$car-settings",passive:"$car-cog"}},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.nomor_polisi.value,"onUpdate:modelValue":[m[5]||(m[5]=u=>l(t).form.nomor_polisi.value=u),m[6]||(m[6]=u=>l(t).nomorPolisiValidation())],label:"Nomor Polisi",placeholder:"XX YYYY ZZZ","prepend-inner-icon":{active:"$car-search",passive:"$car-search-outline"}},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.nama.value,"onUpdate:modelValue":[m[7]||(m[7]=u=>l(t).form.nama.value=u),m[8]||(m[8]=u=>l(t).namaValidation())],label:"Nama",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$car-info",passive:"$car-info"}},null,8,["modelValue"]),o(v,{class:"my-1"}),o(Y,{modelValue:l(t).form.jenis_bbm.value,"onUpdate:modelValue":[m[9]||(m[9]=u=>l(t).form.jenis_bbm.value=u),m[10]||(m[10]=u=>l(t).jenisBBMValidation())],items:Object.values(l(V)),label:"Jenis BBM",placeholder:"Pilih Salah Satu","prepend-inner-icon":{active:"$gas-station",passive:"$gas-station-outline"}},null,8,["modelValue","items"]),o(v,{class:"my-1"}),o(Y,{modelValue:l(t).form.warna.value,"onUpdate:modelValue":[m[11]||(m[11]=u=>l(t).form.warna.value=u),m[12]||(m[12]=u=>l(t).warnaValidation())],items:Object.values(l(S)),label:"Warna",placeholder:"Pilih Salah Satu","prepend-inner-icon":{active:"$palette",passive:"$palette-outline"}},null,8,["modelValue","items"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.harga.value,"onUpdate:modelValue":[m[13]||(m[13]=u=>l(t).form.harga.value=u),m[14]||(m[14]=u=>l(t).hargaValidation())],label:"Harga",placeholder:"100.000.000","prepend-inner-icon":{active:"$tag",passive:"$tag-outline"},prefix:"Rp"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.biaya_pajak.value,"onUpdate:modelValue":[m[15]||(m[15]=u=>l(t).form.biaya_pajak.value=u),m[16]||(m[16]=u=>l(t).biayaPajakValidation())],label:"Biaya Pajak",placeholder:"1.000.000","prepend-inner-icon":{active:"$cash-100",passive:"$cash"},prefix:"Rp"},null,8,["modelValue"]),o(v,{class:"my-1"}),o(_a,{modelValue:l(t).form.jatuh_tempo_pajak.value,"onUpdate:modelValue":[m[17]||(m[17]=u=>l(t).form.jatuh_tempo_pajak.value=u),m[18]||(m[18]=u=>l(t).jatuhTempoPajakValidation())],title:"Jatuh Tempo Pajak",min:new Date},null,8,["modelValue","min"])]),_:1})),$n,o(D,{height:"56px",block:"",color:"secondary",onClick:m[19]||(m[19]=()=>{l(t)[a.action]()})},{default:p(()=>[O(A(a.action.toCapitalizeCase()),1)]),_:1})],64))}}),Tn={class:"text-body-1 font-weight-bold text-no-wrap mr-2"},Dn=K({__name:"MobilView",setup(a){const e=y(),n=H(),t=i=>{var r,s;return(((s=(r=n.mobils)==null?void 0:r.find(d=>d.id===i))==null?void 0:s.jumlah_penggunaan)||0)>0};return U(()=>[e.active.child,n.mobils],i=>{i[0]&&i[1]&&(n.formattedMobils=jn(n.mobils),e.loading=!1)},{immediate:!0,deep:!0}),(i,r)=>(g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.child?(g(),f(j,{key:0,class:"d-scroll pa-2 overflow-auto","min-height":"fit-content","max-height":"100vh"},{default:p(()=>[o(C,{class:"ma-auto pa-4",color:"surface","min-width":"100%",width:"0px"},{default:p(()=>[o(ra,{search:l(n).search,items:l(n).formattedMobils,headers:l(n).getTableHeaders,"custom-key-sort":l(n).customKeySort()},{top:p(()=>[o(j,{class:"pt-1 pb-2"},{default:p(()=>[o(D,{height:"56px",color:"secondary",onClick:r[0]||(r[0]=s=>l(e).setDialog(void 0,wa,"create"))},{default:p(()=>[O(" Tambah Mobil ")]),_:1}),o(v,{class:"mx-2",color:"transparent",vertical:""}),o($,{modelValue:l(n).search,"onUpdate:modelValue":r[1]||(r[1]=s=>l(n).search=s),label:"Cari Data Mobil","prepend-inner-icon":{active:"$text-box-search",passive:"$text-box-search-outline"},clearable:""},null,8,["modelValue"])]),_:1})]),headers:p(({columns:s,isSorted:d,getSortIcon:m,toggleSort:u})=>[h("tr",null,[(g(!0),b(w,null,I(s,c=>(g(),b("td",{key:c.key,class:"pa-1"},[o(C,{class:"d-flex align-center pa-4",variant:"tonal",width:"100%",height:"100%",color:"primary",onClick:()=>{c.sortable&&u(c)}},{default:p(()=>[h("span",Tn,A(c.title),1),o(oa),d(c)?(g(),f(P,{key:0,icon:m(c)},null,8,["icon"])):B("",!0)]),_:2},1032,["onClick"])]))),128))])]),"item.opsi":p(({item:s})=>[o(j,null,{default:p(()=>[o(D,{class:"mr-1",size:"32",variant:"tonal",elevation:0,color:"secondary",onClick:d=>l(e).setDialog(s,wa,"update")},{default:p(()=>[o(P,{size:"20",icon:"$pencil"})]),_:2},1032,["onClick"]),o(D,{size:"32",variant:t(s.id)?"text":"tonal",elevation:0,color:"error",disabled:t(s.id),onClick:()=>{t(s.id)||l(e).setDialog(s,wa,"delete")}},{default:p(()=>[o(P,{size:"20",icon:"$delete"})]),_:2},1032,["variant","disabled","onClick"])]),_:2},1024)]),_:1},8,["search","items","headers","custom-key-sort"])]),_:1})]),_:1})):B("",!0)]),_:1}))}}),Ca=ea("spare-part-store",{state:()=>({spare_parts:na("spare-parts",[]),formattedSpareParts:[],form:{merek:{value:"",error:""},jenis:{value:"",error:""},nama:{value:"",error:""},harga:{value:"",digit:"",error:""},stok:{value:"",digit:"",error:""}},search:""}),actions:{async create(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation()){a.loading=!1;return}const e=this.form.merek.value,n=this.form.jenis.value,t=this.form.nama.value,i=Number(this.form.harga.digit),r=Number(this.form.stok.digit);this.spare_parts.push({id:this.spare_parts.length===0?1:this.spare_parts[this.spare_parts.length-1].id+1,merek:e,jenis:n,nama:t,harga:i,stok:r}),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Tambah Data Spare Part")},async update(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation()){a.loading=!1;return}const e=a.dialog.item,n=this.form.merek.value,t=this.form.jenis.value,i=this.form.nama.value,r=Number(this.form.harga.digit),s=Number(this.form.stok.digit),d=this.spare_parts.findIndex(m=>m.id===e.id);d!==-1&&(this.spare_parts[d].merek=n,this.spare_parts[d].jenis=t,this.spare_parts[d].nama=i,this.spare_parts[d].harga=r,this.spare_parts[d].stok=s),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Ubah Data Spare Part")},async delete(){const a=y();if(a.loading)return;a.loading=!0;const e=a.dialog.item,n=this.spare_parts.findIndex(t=>t.id===e.id);n!==-1&&this.spare_parts.splice(n,1),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Hapus Data Spare Part")},async merekValidation(){const a=/ {2,}/g,e=/^ {1,}/gm;let n=this.form.merek.value,t="";n=n.replace(a," ").replace(e,""),n?n.length>50&&(t="Merek Spare Part Terlalu Panjang!"):t="Merek Spare Part Tidak Boleh Kosong!",await x(()=>{this.form.merek.value=n,this.form.merek.error=t})},async jenisValidation(){const a=/ {2,}/g,e=/^ {1,}/gm;let n=this.form.jenis.value,t="";n=n.replace(a," ").replace(e,""),n?n.length>50&&(t="Jenis Spare Part Terlalu Panjang!"):t="Jenis Spare Part Tidak Boleh Kosong!",await x(()=>{this.form.jenis.value=n,this.form.jenis.error=t})},async namaValidation(){const a=/ {2,}/g,e=/^ {1,}/gm;let n=this.form.nama.value,t="";n=n.replace(a," ").replace(e,""),n?n.length>50&&(t="Nama Terlalu Panjang!"):t="Nama Tidak Boleh Kosong!",await x(()=>{this.form.nama.value=n,this.form.nama.error=t})},async hargaValidation(){const a=/\D+/g,e=/^0\d+/g,n=/[.]+|\D+/g;let t=this.form.harga.value,i="",r="";t=t.replace(a,"").replace(e,"0"),t?(r=t.replace(n,""),r.length>9&&(r=r.substring(0,9)),t=T.global.n(Number(r),"decimal","id")):i="Harga Tidak Boleh Kosong!",await x(()=>{this.form.harga.value=t,this.form.harga.error=i,this.form.harga.digit=r})},async stokValidation(){const a=/\D+/g,e=/^0\d+/g,n=/[.]+|\D+/g;let t=this.form.stok.value,i="",r="";t=t.replace(a,"").replace(e,"0"),t?(r=t.replace(n,""),r.length>4&&(r=r.substring(0,4)),t=T.global.n(Number(r),"decimal","id")):i="stok Tidak Boleh Kosong!",await x(()=>{this.form.stok.value=t,this.form.stok.error=i,this.form.stok.digit=r})},async checkValidation(){if(await Promise.all([this.merekValidation(),this.jenisValidation(),this.namaValidation(),this.hargaValidation(),this.stokValidation()]),!this.isValidationValid){const a=y(),e=this.form.merek.error,n=this.form.jenis.error,t=this.form.nama.error,i=this.form.harga.error,r=this.form.stok.error;return a.setAlerts("error","Aksi Gagal",`${e?`${e}
`:""}${n?`${n}
`:""}${t?`${t}
`:""}${i?`${i}
`:""}${r?`${r}
`:""}`),!1}return!0},afterAction(){const a=y();this.resetForm(),a.resetDialog()},resetForm(){this.form={merek:{value:"",error:""},jenis:{value:"",error:""},nama:{value:"",error:""},harga:{value:"",digit:"",error:""},stok:{value:"",digit:"",error:""}}},customKeySort(){return{nomor:(a,e)=>a-e,merek:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),jenis:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),nama:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),harga:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},stok:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t}}}},getters:{isValidationValid(a){const e=a.form.merek.error,n=a.form.jenis.error,t=a.form.nama.error,i=a.form.harga.error;return e===""&&n===""&&t===""&&i===""},getTableHeaders(){return[{title:"Opsi",value:"opsi",sortable:!1,nowrap:!0,align:"center"},{title:"Nomor",value:"nomor",sortable:!0,nowrap:!0,align:"center"},{title:"Merek",value:"merek",sortable:!0,nowrap:!0,align:"start"},{title:"Jenis",value:"jenis",sortable:!0,nowrap:!0,align:"start"},{title:"Nama",value:"nama",sortable:!0,nowrap:!0,align:"start"},{title:"Harga",value:"harga",sortable:!0,nowrap:!0,align:"start"},{title:"Stok",value:"stok",sortable:!0,nowrap:!0,align:"start"}]}}});function Bn(a){return a.map((e,n)=>{const t=`${T.global.n(e.harga,"currency","id")}`,i=`${T.global.n(e.stok,"decimal","id")}`;return{id:e.id,nomor:n+1,merek:e.merek,jenis:e.jenis,nama:e.nama,harga:t,stok:i}})}function Cn(){return[{id:1,merek:"Astra Otoparts",jenis:"Engine Parts",nama:"Piston Kit",harga:5e5,stok:741},{id:2,merek:"Astra Otoparts",jenis:"Engine Parts",nama:"Cylinder Head",harga:6e5,stok:492},{id:3,merek:"Astra Otoparts",jenis:"Electrical Parts",nama:"Alternator",harga:7e5,stok:687},{id:4,merek:"Astra Otoparts",jenis:"Electrical Parts",nama:"Spark Plug (Busi)",harga:3e4,stok:237},{id:5,merek:"Denso",jenis:"Air Conditioning Parts",nama:"AC Compressor",harga:15e5,stok:664},{id:6,merek:"Denso",jenis:"Air Conditioning Parts",nama:"Condenser",harga:1e6,stok:618},{id:7,merek:"Denso",jenis:"Electrical Parts",nama:"Ignition Coil",harga:5e5,stok:439},{id:8,merek:"Denso",jenis:"Electrical Parts",nama:"Oxygen Sensor",harga:4e5,stok:129},{id:9,merek:"Bosch",jenis:"Brake Parts",nama:"Brake Pads",harga:25e4,stok:171},{id:10,merek:"Bosch",jenis:"Brake Parts",nama:"Brake Discs",harga:35e4,stok:94},{id:11,merek:"Bosch",jenis:"Electrical Parts",nama:"Fuel Injector",harga:2e6,stok:805},{id:12,merek:"Bosch",jenis:"Electrical Parts",nama:"Battery",harga:12e5,stok:602},{id:13,merek:"NGK",jenis:"Ignition Parts",nama:"Spark Plug (Busi)",harga:5e4,stok:871},{id:14,merek:"NGK",jenis:"Ignition Parts",nama:"Ignition Coil",harga:6e5,stok:850},{id:15,merek:"Hella",jenis:"Lighting Parts",nama:"Headlight",harga:15e5,stok:904},{id:16,merek:"Hella",jenis:"Lighting Parts",nama:"Taillight",harga:13e5,stok:668},{id:17,merek:"Hella",jenis:"Electrical Parts",nama:"Relay",harga:2e5,stok:550},{id:18,merek:"Hella",jenis:"Electrical Parts",nama:"Horn",harga:25e4,stok:476},{id:19,merek:"KYB",jenis:"Suspension Parts",nama:"Shock Absorber",harga:7e5,stok:402},{id:20,merek:"KYB",jenis:"Suspension Parts",nama:"Strut",harga:8e5,stok:271},{id:21,merek:"Sakura",jenis:"Filtration Parts",nama:"Oil Filter",harga:5e4,stok:74},{id:22,merek:"Sakura",jenis:"Filtration Parts",nama:"Air Filter",harga:75e3,stok:929},{id:23,merek:"Federal Parts",jenis:"Engine Parts",nama:"Piston Ring",harga:3e5,stok:354},{id:24,merek:"Federal Parts",jenis:"Engine Parts",nama:"Timing Chain",harga:4e5,stok:915},{id:25,merek:"Federal Parts",jenis:"Electrical Parts",nama:"CDI Unit",harga:5e5,stok:770},{id:26,merek:"Federal Parts",jenis:"Electrical Parts",nama:"Regulator Rectifier",harga:35e4,stok:546},{id:27,merek:"Aisin",jenis:"Transmission Parts",nama:"Clutch Kit",harga:85e4,stok:812},{id:28,merek:"Aisin",jenis:"Transmission Parts",nama:"Gearbox",harga:25e5,stok:60},{id:29,merek:"Aisin",jenis:"Cooling Parts",nama:"Water Pump",harga:1e6,stok:399},{id:30,merek:"Aisin",jenis:"Cooling Parts",nama:"Radiator",harga:2e6,stok:2},{id:31,merek:"Akebono",jenis:"Brake Parts",nama:"Brake Pads",harga:25e4,stok:257},{id:32,merek:"Akebono",jenis:"Brake Parts",nama:"Brake Shoes",harga:2e5,stok:152},{id:33,merek:"Valeo",jenis:"Electrical Parts",nama:"Alternator",harga:75e4,stok:155},{id:34,merek:"Valeo",jenis:"Electrical Parts",nama:"Starter Motor",harga:8e5,stok:856},{id:35,merek:"Valeo",jenis:"Lighting Parts",nama:"Fog Lamp",harga:7e5,stok:715},{id:36,merek:"Valeo",jenis:"Lighting Parts",nama:"Headlight",harga:15e5,stok:867},{id:37,merek:"Delphi",jenis:"Fuel System Parts",nama:"Fuel Injector",harga:2e6,stok:466},{id:38,merek:"Delphi",jenis:"Fuel System Parts",nama:"Fuel Pump",harga:1e6,stok:145},{id:39,merek:"Delphi",jenis:"Suspension Parts",nama:"Control Arm",harga:75e4,stok:808},{id:40,merek:"Delphi",jenis:"Suspension Parts",nama:"Ball Joint",harga:5e5,stok:487}]}const Mn={class:"text-h6 font-weight-bold text-center mx-auto"},Kn=h("span",{class:"font-weight-bold mx-auto"}," Detail ",-1),Nn={class:"font-weight-medium"},Ln=h("span",null," Â :Â  ",-1),In=h("div",{class:"my-4"},null,-1),Sa=K({__name:"SparePartDialogView",props:{action:{type:String,required:!0}},setup(a){const e=a,n=y(),t=Ca(),i=M(()=>n.dialog.item),r=M(()=>e.action==="create"?"Tambah":e.action==="update"?"Ubah":"Hapus"),s=M(()=>[{title:"Merek",value:i.value.merek},{title:"Jenis",value:i.value.jenis},{title:"Nama",value:i.value.nama},{title:"Harga",value:i.value.harga},{title:"Stok",value:i.value.stok}]);return ia(()=>{e.action==="update"&&(t.form.merek.value=i.value.merek,t.form.jenis.value=i.value.jenis,t.form.nama.value=i.value.nama,t.form.harga.value=i.value.harga,t.form.stok.value=i.value.stok,t.merekValidation(),t.jenisValidation(),t.namaValidation(),t.hargaValidation(),t.stokValidation())}),(d,m)=>(g(),b(w,null,[o(j,{class:"position-relative mb-8"},{default:p(()=>[o(D,{position:"absolute",size:"32px",variant:"tonal",elevation:0,onClick:m[0]||(m[0]=()=>{l(t).resetForm(),l(n).resetDialog()})},{default:p(()=>[o(P,{size:"20px",icon:"$close",color:"surface"})]),_:1}),h("span",Mn,A(r.value)+" Spare Part ",1)]),_:1}),a.action==="delete"?(g(),b(w,{key:0},[o(j,null,{default:p(()=>[o(C,{class:"pa-1 mx-auto",color:"surface",elevation:4},{default:p(()=>[o(P,{icon:"$alert",size:"128px",color:"primary"})]),_:1})]),_:1}),o(j,{class:"d-flex flex-column mt-8"},{default:p(()=>[Kn,o(ta,{class:"overflow-auto align-self-center","grid-template-columns":"minmax(0px, 1fr) auto minmax(0px, 1fr)",width:"fit-content"},{default:p(()=>[(g(!0),b(w,null,I(s.value,(u,c)=>(g(),b(w,{key:c},[h("span",Nn,A(u.title),1),Ln,h("span",null,A(u.value),1)],64))),128))]),_:1})]),_:1})],64)):(g(),f(W,{key:1},{default:p(()=>[o($,{modelValue:l(t).form.merek.value,"onUpdate:modelValue":[m[1]||(m[1]=u=>l(t).form.merek.value=u),m[2]||(m[2]=u=>l(t).merekValidation())],label:"Merek",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$cog",passive:"$cog-outline"}},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.jenis.value,"onUpdate:modelValue":[m[3]||(m[3]=u=>l(t).form.jenis.value=u),m[4]||(m[4]=u=>l(t).jenisValidation())],label:"Jenis",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$wrench-cog",passive:"$wrench-cog-outline"}},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.nama.value,"onUpdate:modelValue":[m[5]||(m[5]=u=>l(t).form.nama.value=u),m[6]||(m[6]=u=>l(t).namaValidation())],label:"Nama",placeholder:"Maksimal 50 Karakter","prepend-inner-icon":{active:"$folder-wrench",passive:"$folder-wrench-outline"}},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.harga.value,"onUpdate:modelValue":[m[7]||(m[7]=u=>l(t).form.harga.value=u),m[8]||(m[8]=u=>l(t).hargaValidation())],label:"Harga",placeholder:"1.000.000","prepend-inner-icon":{active:"$tag",passive:"$tag-outline"},prefix:"Rp"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(t).form.stok.value,"onUpdate:modelValue":[m[9]||(m[9]=u=>l(t).form.stok.value=u),m[10]||(m[10]=u=>l(t).stokValidation())],label:"Stok",placeholder:"100","prepend-inner-icon":{active:"$clipboard-list",passive:"$clipboard-list-outline"}},null,8,["modelValue"])]),_:1})),In,o(D,{height:"56px",block:"",color:"secondary",onClick:m[11]||(m[11]=()=>{l(t)[a.action]()})},{default:p(()=>[O(A(a.action.toCapitalizeCase()),1)]),_:1})],64))}}),Fn={class:"text-body-1 font-weight-bold text-no-wrap mr-2"},On=K({__name:"SparePartView",setup(a){const e=y(),n=Ca();return U(()=>[e.active.child,n.spare_parts],t=>{t[0]&&t[1]&&(n.formattedSpareParts=Bn(n.spare_parts),e.loading=!1)},{immediate:!0,deep:!0}),(t,i)=>(g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.child?(g(),f(j,{key:0,class:"d-scroll pa-2 overflow-auto","min-height":"fit-content","max-height":"100vh"},{default:p(()=>[o(C,{class:"ma-auto pa-4",color:"surface","min-width":"100%",width:"0px"},{default:p(()=>[o(ra,{search:l(n).search,items:l(n).formattedSpareParts,headers:l(n).getTableHeaders,"custom-key-sort":l(n).customKeySort()},{top:p(()=>[o(j,{class:"pt-1 pb-2"},{default:p(()=>[o(D,{height:"56px",color:"secondary",onClick:i[0]||(i[0]=r=>l(e).setDialog(void 0,Sa,"create"))},{default:p(()=>[O(" Tambah Spare Part ")]),_:1}),o(v,{class:"mx-2",color:"transparent",vertical:""}),o($,{modelValue:l(n).search,"onUpdate:modelValue":i[1]||(i[1]=r=>l(n).search=r),label:"Cari Data Spare Part","prepend-inner-icon":{active:"$text-box-search",passive:"$text-box-search-outline"},clearable:""},null,8,["modelValue"])]),_:1})]),headers:p(({columns:r,isSorted:s,getSortIcon:d,toggleSort:m})=>[h("tr",null,[(g(!0),b(w,null,I(r,u=>(g(),b("td",{key:u.key,class:"pa-1"},[o(C,{class:"d-flex align-center pa-4",variant:"tonal",width:"100%",height:"100%",color:"primary",onClick:()=>{u.sortable&&m(u)}},{default:p(()=>[h("span",Fn,A(u.title),1),o(oa),s(u)?(g(),f(P,{key:0,icon:d(u)},null,8,["icon"])):B("",!0)]),_:2},1032,["onClick"])]))),128))])]),"item.opsi":p(({item:r})=>[o(j,null,{default:p(()=>[o(D,{class:"mr-1",size:"32",variant:"tonal",elevation:0,color:"secondary",onClick:s=>l(e).setDialog(r,Sa,"update")},{default:p(()=>[o(P,{size:"20",icon:"$pencil"})]),_:2},1032,["onClick"]),o(D,{size:"32",variant:"tonal",elevation:0,color:"error",onClick:s=>l(e).setDialog(r,Sa,"delete")},{default:p(()=>[o(P,{size:"20",icon:"$delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["search","items","headers","custom-key-sort"])]),_:1})]),_:1})):B("",!0)]),_:1}))}});function Ta(a){return new Promise(e=>window.setTimeout(e,a))}function F(a,e){return Math.floor(Math.random()*(e-a+1))+a}const Da=1120,xa="Web Workers are not supported in this browser.",Ma=new Date,da=Ma.getFullYear()-3,Ia=M(()=>{const a=Ma.getFullYear(),e=da,n=[];for(let t=e;t<=a;t++)n.push(t);return n}),Fa=M(()=>{const a=[];for(let e=0;e<12;e++)a.push({title:new Date(Ma.getFullYear(),e,1).toLocaleDateString("en",{month:"long"}),value:e});return a}),ca=ea("pendapatan-store",{state:()=>({pendapatans:na("pendapatans",[]),formattedPendapatans:[],form:{sopir:{value:null,error:""},mobil:{value:null,error:""},spk:{value:"",error:""},tanggal_muat:{value:null,error:""},tanggal_bongkar:{value:null,error:""},timbangan_muat:{value:"",digit:"",error:""},timbangan_bongkar:{value:"",digit:"",error:""},ongkos_angkut:{value:"",digit:"",error:""},harga_klaim_susut:{value:"",digit:"",error:""}},search:""}),actions:{async create(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation()){a.loading=!1;return}const e=this.form.sopir.value,n=this.form.mobil.value,t=this.form.spk.value,i=this.form.tanggal_muat.value,r=this.form.tanggal_bongkar.value,s=Number(this.form.timbangan_muat.digit),d=Number(this.form.timbangan_bongkar.digit),m=Number(this.form.ongkos_angkut.digit),u=Number(this.form.harga_klaim_susut.digit),c=d-s,k=c/s,N=Math.floor(m*d),z=Math.floor(N*11/100),X=Math.floor(N*2/100),Z=Math.floor(u*c),G=Math.floor(N+z-(X+Z));this.pendapatans.push({id:this.pendapatans.length===0?1:this.pendapatans[this.pendapatans.length-1].id+1,id_sopir:e.id,id_mobil:n.id,spk:t,tanggal_muat:i,tanggal_bongkar:r,timbangan_muat:s,timbangan_bongkar:d,selisih_berat:c,persen_susut:k,ongkos_angkut:m,harga_klaim_susut:u,sub_total:N,ppn:z,pph:X,klaim_susut:Z,pendapatan_bruto:G}),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Tambah Data Pendapatan")},async update(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation()){a.loading=!1;return}const e=a.dialog.item,n=this.form.spk.value,t=this.form.sopir.value,i=this.form.mobil.value,r=this.form.tanggal_muat.value,s=this.form.tanggal_bongkar.value,d=Number(this.form.timbangan_muat.digit),m=Number(this.form.timbangan_bongkar.digit),u=Number(this.form.ongkos_angkut.digit),c=Number(this.form.harga_klaim_susut.digit),k=m-d,N=k/d,z=Math.floor(u*m),X=Math.floor(z*11/100),Z=Math.floor(z*2/100),G=Math.floor(c*k),sa=Math.floor(z+X-(Z+G)),L=this.pendapatans.findIndex(ua=>ua.id===e.id);L!==-1&&(this.pendapatans[L].id_sopir=t.id,this.pendapatans[L].id_mobil=i.id,this.pendapatans[L].spk=n,this.pendapatans[L].tanggal_muat=r,this.pendapatans[L].tanggal_bongkar=s,this.pendapatans[L].timbangan_muat=d,this.pendapatans[L].timbangan_bongkar=m,this.pendapatans[L].selisih_berat=k,this.pendapatans[L].persen_susut=N,this.pendapatans[L].ongkos_angkut=u,this.pendapatans[L].harga_klaim_susut=c,this.pendapatans[L].sub_total=z,this.pendapatans[L].ppn=X,this.pendapatans[L].pph=Z,this.pendapatans[L].klaim_susut=G,this.pendapatans[L].pendapatan_bruto=sa),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Ubah Data Pendapatan")},async delete(){const a=y();if(a.loading)return;a.loading=!0;const e=a.dialog.item,n=this.pendapatans.findIndex(t=>t.id===e.id);n!==-1&&this.pendapatans.splice(n,1),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Hapus Data Pendapatan")},async sopirValidation(){const a=Q(),e=this.form.sopir.value;let n="";e?a.sopirs.some(t=>t.id===e.id)||(n="Sopir Tidak Valid!"):n="Sopir Tidak Boleh Kosong!",await x(()=>{this.form.sopir.value=e,this.form.sopir.error=n})},async mobilValidation(){const a=H(),e=this.form.mobil.value;let n="";e?a.mobils.some(t=>t.id===e.id)||(n="Mobil Tidak Valid!"):n="Mobil Tidak Boleh Kosong!",await x(()=>{this.form.mobil.value=e,this.form.mobil.error=n})},async SPKValidation(){const a=/\s+/g;let e=this.form.spk.value,n="";e=e.replace(a,""),e?e.length>100&&(n="SPK Terlalu Panjang!"):n="SPK Tidak Boleh Kosong!",await x(()=>{this.form.spk.value=e,this.form.spk.error=n})},async tanggalMuatValidation(){const a=this.form.tanggal_muat.value;let e="";const n=new Date;n.setHours(0,0,0,0),a?a.getTime()>n.getTime()&&(e="Tanggal Muat Tidak Boleh Masa Depan!"):e="Tanggal Muat Tidak Boleh Kosong!",await x(()=>{this.form.tanggal_muat.value=a,this.form.tanggal_muat.error=e})},async tanggalBongkarValidation(){const a=this.form.tanggal_bongkar.value;let e="";const n=new Date;n.setHours(0,0,0,0);const t=this.form.tanggal_muat.value;a?a.getTime()>n.getTime()?e="Tanggal Bongkar Tidak Boleh Masa Depan!":t&&a.getTime()<t.getTime()&&(e="Tanggal Bongkar Tidak Boleh Sebelum Tanggal Muat!"):e="Tanggal Bongkar Tidak Boleh Kosong!",await x(()=>{this.form.tanggal_bongkar.value=a,this.form.tanggal_bongkar.error=e})},async timbanganMuatValidation(){const a=/\D+/g,e=/^0\d+/g,n=/[.]+|\D+/g;let t=this.form.timbangan_muat.value,i="",r="";t=t.replace(a,"").replace(e,"0"),t?(r=t.replace(n,""),r.length>9&&(r=r.substring(0,9)),t=T.global.n(Number(r),"decimal","id")):i="Timbangan Muat Tidak Boleh Kosong!",await x(()=>{this.form.timbangan_muat.value=t,this.form.timbangan_muat.error=i,this.form.timbangan_muat.digit=r})},async timbanganBongkarValidation(){const a=/\D+/g,e=/^0\d+/g,n=/[.]+|\D+/g;let t=this.form.timbangan_bongkar.value,i="",r="";t=t.replace(a,"").replace(e,"0"),t?(r=t.replace(n,""),r.length>9&&(r=r.substring(0,9)),t=T.global.n(Number(r),"decimal","id")):i="Timbangan Bongkar Tidak Boleh Kosong!",await x(()=>{this.form.timbangan_bongkar.value=t,this.form.timbangan_bongkar.error=i,this.form.timbangan_bongkar.digit=r})},async ongkosAngkutValidation(){const a=/\D+/g,e=/^0\d+/g,n=/[.]+|\D+/g;let t=this.form.ongkos_angkut.value,i="",r="";t=t.replace(a,"").replace(e,"0"),t?(r=t.replace(n,""),r.length>6&&(r=r.substring(0,6)),t=T.global.n(Number(r),"decimal","id")):i="Ongkos Angkut Tidak Boleh Kosong!",await x(()=>{this.form.ongkos_angkut.value=t,this.form.ongkos_angkut.error=i,this.form.ongkos_angkut.digit=r})},async hargaKlaimSusutValidation(){const a=/\D+/g,e=/^0\d+/g,n=/[.]+|\D+/g;let t=this.form.harga_klaim_susut.value,i="",r="";t=t.replace(a,"").replace(e,"0"),t?(r=t.replace(n,""),r.length>9&&(r=r.substring(0,9)),t=T.global.n(Number(r),"decimal","id")):i="Harga Klaim Susut Tidak Boleh Kosong!",await x(()=>{this.form.harga_klaim_susut.value=t,this.form.harga_klaim_susut.error=i,this.form.harga_klaim_susut.digit=r})},async checkValidation(){if(await Promise.all([this.sopirValidation(),this.mobilValidation(),this.SPKValidation(),this.tanggalMuatValidation(),this.tanggalBongkarValidation(),this.timbanganMuatValidation(),this.timbanganBongkarValidation(),this.ongkosAngkutValidation(),this.hargaKlaimSusutValidation()]),!this.isValidationValid){const a=y(),e=this.form.spk.error,n=this.form.sopir.error,t=this.form.mobil.error,i=this.form.tanggal_muat.error,r=this.form.tanggal_bongkar.error,s=this.form.timbangan_muat.error,d=this.form.timbangan_bongkar.error,m=this.form.ongkos_angkut.error,u=this.form.harga_klaim_susut.error;return a.setAlerts("error","Aksi Gagal",`${n?`${n}
`:""}${t?`${t}
`:""}${e?`${e}
`:""}${i?`${i}
`:""}${r?`${r}
`:""}${s?`${s}
`:""}${d?`${d}
`:""}${m?`${m}
`:""}${u?`${u}
`:""}`),!1}return!0},afterAction(){const a=y();this.resetForm(),a.resetDialog()},resetForm(){this.form={sopir:{value:null,error:""},mobil:{value:null,error:""},spk:{value:"",error:""},tanggal_muat:{value:null,error:""},tanggal_bongkar:{value:null,error:""},timbangan_muat:{value:"",digit:"",error:""},timbangan_bongkar:{value:"",digit:"",error:""},ongkos_angkut:{value:"",digit:"",error:""},harga_klaim_susut:{value:"",digit:"",error:""}}},customKeySort(){return{sopir:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),mobil:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),spk:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),tanggal_muat:(a,e)=>{const n="EEEE, dd MMMM yyyy",t=E(a,n,new Date,{locale:R}),i=E(e,n,new Date,{locale:R});return t.getTime()-i.getTime()},tanggal_bongkar:(a,e)=>{const n="EEEE, dd MMMM yyyy",t=E(a,n,new Date,{locale:R}),i=E(e,n,new Date,{locale:R});return t.getTime()-i.getTime()},timbangan_muat:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},timbangan_bongkar:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},selisih_berat:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},persen_susut:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},ongkos_angkut:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},harga_klaim_susut:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},sub_total:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},ppn:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},pph:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},klaim_susut:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},pendapatan_bruto:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t}}}},getters:{isValidationValid(a){const e=a.form.sopir.error,n=a.form.mobil.error,t=a.form.spk.error,i=a.form.tanggal_muat.error,r=a.form.tanggal_bongkar.error,s=a.form.timbangan_muat.error,d=a.form.timbangan_bongkar.error,m=a.form.ongkos_angkut.error,u=a.form.harga_klaim_susut.error;return t===""&&e===""&&n===""&&i===""&&r===""&&s===""&&d===""&&m===""&&u===""},getTableHeaders(){return[{title:"Opsi",value:"opsi",sortable:!1,nowrap:!0,align:"center"},{title:"Nomor",value:"nomor",sortable:!0,nowrap:!0,align:"center"},{title:"Sopir",value:"sopir",sortable:!0,nowrap:!0,align:"start"},{title:"Mobil",value:"mobil",sortable:!0,nowrap:!0,align:"start"},{title:"SPK",value:"spk",sortable:!0,nowrap:!0,align:"start"},{title:"Tanggal Muat",value:"tanggal_muat",sortable:!0,nowrap:!0,align:"start"},{title:"Tanggal Bongkar",value:"tanggal_bongkar",sortable:!0,nowrap:!0,align:"start"},{title:"Timbangan Muat (Kg)",value:"timbangan_muat",sortable:!0,nowrap:!0,align:"start"},{title:"Timbangan Bongkar (Kg)",value:"timbangan_bongkar",sortable:!0,nowrap:!0,align:"start"},{title:"Selisih Berat (Kg)",value:"selisih_berat",sortable:!0,nowrap:!0,align:"start"},{title:"%",value:"persen_susut",sortable:!0,nowrap:!0,align:"start"},{title:"Ongkos Angkut",value:"ongkos_angkut",sortable:!0,nowrap:!0,align:"start"},{title:"Harga Klaim Susut",value:"harga_klaim_susut",sortable:!0,nowrap:!0,align:"start"},{title:"Sub Total",value:"sub_total",sortable:!0,nowrap:!0,align:"start"},{title:"PPN 11%",value:"ppn",sortable:!0,nowrap:!0,align:"start"},{title:"PPH 23 (2%)",value:"pph",sortable:!0,nowrap:!0,align:"start"},{title:"Klaim Susut",value:"klaim_susut",sortable:!0,nowrap:!0,align:"start"},{title:"Pendapatan Bruto",value:"pendapatan_bruto",sortable:!0,nowrap:!0,align:"start"}]}}});function Un(a){return a.map((e,n)=>{const i=Q().sopirs.find(pa=>pa.id===e.id_sopir),s=H().mobils.find(pa=>pa.id===e.id_mobil),d=new Date(e.tanggal_muat).toLocaleDateString("id",{dateStyle:"full"}),m=new Date(e.tanggal_bongkar).toLocaleDateString("id",{dateStyle:"full"}),u=`${T.global.n(e.timbangan_muat,"decimal","id")}`,c=`${T.global.n(e.timbangan_bongkar,"decimal","id")}`,k=`${T.global.n(e.selisih_berat,"decimal","id")}`,N=`${T.global.n(e.persen_susut,"decimal","id")}%`,z=`${T.global.n(e.ongkos_angkut,"currency","id")}/Kg`,X=`${T.global.n(e.harga_klaim_susut,"currency","id")}`,Z=`${T.global.n(e.sub_total,"currency","id")}`,G=`${T.global.n(e.ppn,"currency","id")}`,sa=`${T.global.n(e.pph,"currency","id")}`,L=`${T.global.n(e.klaim_susut,"currency","id")}`,ua=`${T.global.n(e.pendapatan_bruto,"currency","id")}`;return{id:e.id,id_sopir:e.id_sopir,id_mobil:e.id_mobil,nomor:n+1,sopir:`${i.nama_lengkap}
${i.nomor_hp}`,mobil:`${s.nomor_polisi}
${s.nama}`,spk:e.spk,tanggal_muat:d,tanggal_bongkar:m,timbangan_muat:u,timbangan_bongkar:c,selisih_berat:k,persen_susut:N,ongkos_angkut:z,harga_klaim_susut:X,sub_total:Z,ppn:G,pph:sa,klaim_susut:L,pendapatan_bruto:ua}})}function Hn(){const a=new Date(da,0,1),e=new Date;a.setHours(0,0,0,0),e.setHours(0,0,0,0);const n=[],t=Q(),i=H();for(;a.getTime()<=e.getTime();){const r=t.sopirs[F(0,t.sopirs.length-1)],s=i.mobils[F(0,i.mobils.length-1)],d=`PNK/${a.getTime()}/${a.toLocaleDateString("id",{dateStyle:"short"})}`,m=new Date(F(da,a.getFullYear()),F(0,a.getMonth()),F(1,a.getDate())),u=new Date(F(m.getFullYear(),a.getFullYear()),F(m.getMonth(),a.getMonth()),F(m.getDate(),a.getDate())),c=F(10,1e4),k=F(10,1e4),N=F(1,1e3),z=F(1e3,1e5),X=k-c,Z=X/c,G=Math.floor(N*k),sa=Math.floor(G*11/100),L=Math.floor(G*2/100),ua=Math.floor(z*X),pa=Math.floor(G+sa-(L+ua));n.push({id:n.length===0?1:n[n.length-1].id+1,id_sopir:r.id,id_mobil:s.id,spk:d,tanggal_muat:m,tanggal_bongkar:u,timbangan_muat:c,timbangan_bongkar:k,selisih_berat:X,persen_susut:Z,ongkos_angkut:N,harga_klaim_susut:z,sub_total:G,ppn:sa,pph:L,klaim_susut:ua,pendapatan_bruto:pa}),a.setDate(a.getDate()+1)}return n}const zn=h("span",{class:"font-weight-medium"}," Nomor Polisi ",-1),En=h("span",null," Â :Â  ",-1),Rn=h("span",{class:"font-weight-medium"}," Merek Mobil ",-1),Jn=h("span",null," Â :Â  ",-1),Xn=h("span",{class:"font-weight-medium"}," Jenis Mobil ",-1),Gn=h("span",null," Â :Â  ",-1),Yn=h("span",{class:"font-weight-medium"}," Nama ",-1),Wn=h("span",null," Â :Â  ",-1),Zn=h("span",{class:"font-weight-medium"}," Jenis BBM ",-1),Qn=h("span",null," Â :Â  ",-1),qn=h("span",{class:"font-weight-medium"}," Warna ",-1),ai=h("span",null," Â :Â  ",-1),ei=h("span",{class:"font-weight-medium"}," Harga ",-1),ti=h("span",null," Â :Â  ",-1),ni=h("span",{class:"font-weight-medium"}," Biaya Pajak ",-1),ii=h("span",null," Â :Â  ",-1),ri=h("span",{class:"font-weight-medium"}," Jatuh Tempo Pajak ",-1),oi=h("span",null," Â :Â  ",-1),Ga=K({__name:"MobilDetailView",props:{mobil:{type:Object,required:!0}},setup(a){return(e,n)=>(g(),f(C,{class:"pa-3",style:{display:"grid","grid-template-columns":"auto auto minmax(0px, 1fr)",width:"100%","align-self":"center",overflow:"auto"},variant:"flat",rounded:"xl"},{default:p(()=>[zn,En,h("span",null,A(a.mobil.nomor_polisi),1),Rn,Jn,h("span",null,A(a.mobil.merek),1),Xn,Gn,h("span",null,A(a.mobil.jenis),1),Yn,Wn,h("span",null,A(a.mobil.nama),1),Zn,Qn,h("span",null,A(a.mobil.jenis_bbm),1),qn,ai,h("span",null,A(a.mobil.warna),1),ei,ti,h("span",null,A(l(T).global.n(a.mobil.harga,"currency","id")),1),ni,ii,h("span",null,A(l(T).global.n(a.mobil.biaya_pajak,"currency","id")),1),ri,oi,h("span",null,A(new Date(a.mobil.jatuh_tempo_pajak).toLocaleDateString("id",{dateStyle:"full"})),1)]),_:1}))}}),li=h("span",{class:"font-weight-medium"}," Nama Lengkap ",-1),si=h("span",null," Â :Â  ",-1),ui=h("span",{class:"font-weight-medium"}," Nomor HP ",-1),mi=h("span",null," Â :Â  ",-1),pi=h("span",{class:"font-weight-medium"}," Nomor SIM ",-1),di=h("span",null," Â :Â  ",-1),gi=h("span",{class:"font-weight-medium"}," Asal PKS ",-1),ci=h("span",null," Â :Â  ",-1),hi=h("span",{class:"font-weight-medium"}," Tujuan PKS ",-1),ki=h("span",null," Â :Â  ",-1),fi=h("span",{class:"font-weight-medium"}," Uang Minyak ",-1),_i=h("span",null," Â :Â  ",-1),bi=K({__name:"SopirDetailView",props:{sopir:{type:Object,required:!0}},setup(a){return(e,n)=>(g(),f(C,{class:"pa-3",style:{display:"grid","grid-template-columns":"auto auto minmax(0px, 1fr)",width:"100%","align-self":"center",overflow:"auto"},variant:"flat",rounded:"xl"},{default:p(()=>[li,si,h("span",null,A(a.sopir.nama_lengkap),1),ui,mi,h("span",null,A(a.sopir.nomor_hp),1),pi,di,h("span",null,A(a.sopir.nomor_sim),1),gi,ci,h("span",null,A(a.sopir.asal_pks),1),hi,ki,h("span",null,A(a.sopir.tujuan_pks),1),fi,_i,h("span",null,A(a.sopir.uang_minyak),1)]),_:1}))}}),Ai={class:"text-h6 font-weight-bold text-center mx-auto"},vi=h("span",{class:"font-weight-bold mx-auto"}," Detail ",-1),ji={class:"font-weight-medium"},yi=h("span",null," Â :Â  ",-1),wi=h("div",{class:"my-4"},null,-1),Va=K({__name:"PendapatanDialogView",props:{action:{type:String,required:!0}},setup(a){const e=a,n=y(),t=Q(),i=H(),r=ca(),s=M(()=>n.dialog.item),d=M(()=>e.action==="create"?"Tambah":e.action==="update"?"Ubah":"Hapus"),m=M(()=>[{title:"Sopir",value:s.value.sopir},{title:"Mobil",value:s.value.mobil},{title:"SPK",value:s.value.spk},{title:"Tanggal Muat",value:s.value.tanggal_muat},{title:"Tanggal Bongkar",value:s.value.tanggal_bongkar},{title:"Timbangan Muat",value:s.value.timbangan_muat},{title:"Timbangan Bongkar",value:s.value.timbangan_bongkar},{title:"Selisih Berat",value:s.value.selisih_berat},{title:"Persen Susut",value:s.value.persen_susut},{title:"Ongkos Angkut",value:s.value.ongkos_angkut},{title:"Harga Klaim Susut",value:s.value.harga_klaim_susut},{title:"Sub Total",value:s.value.sub_total},{title:"Ppn",value:s.value.ppn},{title:"Pph",value:s.value.pph},{title:"Klaim Susut",value:s.value.klaim_susut},{title:"Pendapatan Bruto",value:s.value.pendapatan_bruto}]);return ia(()=>{if(e.action==="update"){const u="EEEE, dd MMMM yyyy";r.form.sopir.value=t.sopirs.find(c=>c.id===s.value.id_sopir)||null,r.form.mobil.value=i.mobils.find(c=>c.id===s.value.id_mobil)||null,r.form.spk.value=s.value.spk,r.form.tanggal_muat.value=E(s.value.tanggal_muat,u,new Date,{locale:R}),r.form.tanggal_bongkar.value=E(s.value.tanggal_bongkar,u,new Date,{locale:R}),r.form.timbangan_muat.value=s.value.timbangan_muat,r.form.timbangan_bongkar.value=s.value.timbangan_bongkar,r.form.ongkos_angkut.value=s.value.ongkos_angkut,r.form.harga_klaim_susut.value=s.value.harga_klaim_susut,r.sopirValidation(),r.mobilValidation(),r.SPKValidation(),r.tanggalMuatValidation(),r.tanggalBongkarValidation(),r.timbanganMuatValidation(),r.timbanganBongkarValidation(),r.ongkosAngkutValidation(),r.hargaKlaimSusutValidation()}}),(u,c)=>(g(),b(w,null,[o(j,{class:"position-relative mb-8"},{default:p(()=>[o(D,{position:"absolute",size:"32px",variant:"tonal",elevation:0,onClick:c[0]||(c[0]=()=>{l(r).resetForm(),l(n).resetDialog()})},{default:p(()=>[o(P,{size:"20px",icon:"$close",color:"surface"})]),_:1}),h("span",Ai,A(d.value)+" Pendapatan ",1)]),_:1}),a.action==="delete"?(g(),b(w,{key:0},[o(j,null,{default:p(()=>[o(C,{class:"pa-1 mx-auto",color:"surface",elevation:4},{default:p(()=>[o(P,{icon:"$alert",size:"128px",color:"primary"})]),_:1})]),_:1}),o(j,{class:"d-flex flex-column mt-8"},{default:p(()=>[vi,o(ta,{class:"overflow-auto align-self-center","grid-template-columns":"minmax(0px, 1fr) auto minmax(0px, 1fr)",width:"fit-content"},{default:p(()=>[(g(!0),b(w,null,I(m.value,(k,N)=>(g(),b(w,{key:N},[h("span",ji,A(k.title),1),yi,h("span",null,A(k.value),1)],64))),128))]),_:1})]),_:1})],64)):(g(),f(W,{key:1},{default:p(()=>[o(Y,{modelValue:l(r).form.sopir.value,"onUpdate:modelValue":[c[1]||(c[1]=k=>l(r).form.sopir.value=k),c[2]||(c[2]=k=>l(r).sopirValidation())],items:l(t).sopirs.sort((k,N)=>k.nama_lengkap.toLowerCase().localeCompare(N.nama_lengkap.toLowerCase())),"item-value":"id","item-title":"nama_lengkap","item-props":k=>({title:k.nama_lengkap,subtitle:k.nomor_hp}),label:"Sopir",placeholder:"Pilih Salah Satu","prepend-inner-icon":{active:"$ship-wheel",passive:"$steering"},"return-object":""},null,8,["modelValue","items","item-props"]),o(v,{class:"my-1"}),o(fa,{group:""},{default:p(()=>[l(r).form.sopir.value?(g(),b(w,{key:0},[o(bi,{sopir:l(r).form.sopir.value},null,8,["sopir"]),o(v,{class:"my-1"})],64)):B("",!0)]),_:1}),o(Y,{modelValue:l(r).form.mobil.value,"onUpdate:modelValue":[c[3]||(c[3]=k=>l(r).form.mobil.value=k),c[4]||(c[4]=k=>l(r).mobilValidation())],items:l(i).mobils.sort((k,N)=>k.nomor_polisi.toLowerCase().localeCompare(N.nomor_polisi.toLowerCase())),"item-value":"id","item-title":"nomor_polisi","item-props":k=>({title:k.nomor_polisi,subtitle:k.nama}),label:"Mobil",placeholder:"Pilih Salah Satu","prepend-inner-icon":{active:"$car",passive:"$car-outline"},"return-object":""},null,8,["modelValue","items","item-props"]),o(v,{class:"my-1"}),o(fa,{group:""},{default:p(()=>[l(r).form.mobil.value?(g(),b(w,{key:0},[o(Ga,{mobil:l(r).form.mobil.value},null,8,["mobil"]),o(v,{class:"my-1"})],64)):B("",!0)]),_:1}),o($,{modelValue:l(r).form.spk.value,"onUpdate:modelValue":[c[5]||(c[5]=k=>l(r).form.spk.value=k),c[6]||(c[6]=k=>l(r).SPKValidation())],label:"SPK",placeholder:"Maksimal 100 Karakter","prepend-inner-icon":{active:"$barcode-scan",passive:"$barcode"}},null,8,["modelValue"]),o(v,{class:"my-1"}),o(_a,{modelValue:l(r).form.tanggal_muat.value,"onUpdate:modelValue":[c[7]||(c[7]=k=>l(r).form.tanggal_muat.value=k),c[8]||(c[8]=k=>{const N=l(r).form.tanggal_bongkar.value;k&&N&&k.getTime()>N.getTime()&&(l(r).form.tanggal_bongkar.value=null),l(r).tanggalMuatValidation()})],title:"Tanggal Muat",max:new Date},null,8,["modelValue","max"]),o(v,{class:"my-1"}),o(fa,{group:""},{default:p(()=>[l(r).form.tanggal_muat.value?(g(),b(w,{key:0},[o(_a,{modelValue:l(r).form.tanggal_bongkar.value,"onUpdate:modelValue":[c[9]||(c[9]=k=>l(r).form.tanggal_bongkar.value=k),c[10]||(c[10]=k=>l(r).tanggalBongkarValidation())],title:"Tanggal Bongkar",min:new Date(l(r).form.tanggal_muat.value),max:new Date},null,8,["modelValue","min","max"]),o(v,{class:"my-1"})],64)):B("",!0)]),_:1}),o($,{modelValue:l(r).form.timbangan_muat.value,"onUpdate:modelValue":[c[11]||(c[11]=k=>l(r).form.timbangan_muat.value=k),c[12]||(c[12]=k=>l(r).timbanganMuatValidation())],label:"Timbangan Muat",placeholder:"1.000","prepend-inner-icon":{active:"$scale-unbalance",passive:"$scale-balance"},suffix:"Kg"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(r).form.timbangan_bongkar.value,"onUpdate:modelValue":[c[13]||(c[13]=k=>l(r).form.timbangan_bongkar.value=k),c[14]||(c[14]=k=>l(r).timbanganBongkarValidation())],label:"Timbangan Bongkar",placeholder:"1.000","prepend-inner-icon":{active:"$scale-unbalance",passive:"$scale-balance"},suffix:"Kg"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(r).form.ongkos_angkut.value,"onUpdate:modelValue":[c[15]||(c[15]=k=>l(r).form.ongkos_angkut.value=k),c[16]||(c[16]=k=>l(r).ongkosAngkutValidation())],label:"Ongkos Angkut",placeholder:"100","prepend-inner-icon":{active:"$truck",passive:"$truck-outline"},prefix:"Rp",suffix:"/Kg"},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(r).form.harga_klaim_susut.value,"onUpdate:modelValue":[c[17]||(c[17]=k=>l(r).form.harga_klaim_susut.value=k),c[18]||(c[18]=k=>l(r).hargaKlaimSusutValidation())],label:"Harga Klaim Susut",placeholder:"10.000","prepend-inner-icon":{active:"$cash-100",passive:"$cash"},prefix:"Rp"},null,8,["modelValue"]),o(v,{class:"my-1"})]),_:1})),wi,o(D,{height:"56px",block:"",color:"secondary",onClick:c[19]||(c[19]=()=>{l(r)[a.action]()})},{default:p(()=>[O(A(a.action.toCapitalizeCase()),1)]),_:1})],64))}}),Si={class:"text-body-1 font-weight-bold text-no-wrap mr-2"},xi={class:"text-pre"},Vi={class:"text-pre"},Pi=K({__name:"PendapatanView",setup(a){const e=y(),n=ca();return U(()=>[e.active.child,n.pendapatans],t=>{t[0]&&t[1]&&(n.formattedPendapatans=Un(n.pendapatans),e.loading=!1)},{immediate:!0,deep:!0}),(t,i)=>(g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.child?(g(),f(j,{key:0,class:"d-scroll pa-2 overflow-auto","min-height":"fit-content","max-height":"100vh"},{default:p(()=>[o(C,{class:"ma-auto pa-4",color:"surface","min-width":"100%",width:"0px"},{default:p(()=>[o(ra,{search:l(n).search,items:l(n).formattedPendapatans,headers:l(n).getTableHeaders,"custom-key-sort":l(n).customKeySort(),"sort-by":[{key:"tanggal_bongkar",order:"desc"}]},{top:p(()=>[o(j,{class:"pt-1 pb-2"},{default:p(()=>[o(D,{height:"56px",color:"secondary",onClick:i[0]||(i[0]=r=>l(e).setDialog(void 0,Va,"create"))},{default:p(()=>[O(" Tambah Pendapatan ")]),_:1}),o(v,{class:"mx-2",color:"transparent",vertical:""}),o($,{modelValue:l(n).search,"onUpdate:modelValue":i[1]||(i[1]=r=>l(n).search=r),label:"Cari Data Pendapatan","prepend-inner-icon":{active:"$text-box-search",passive:"$text-box-search-outline"},clearable:""},null,8,["modelValue"])]),_:1})]),headers:p(({columns:r,isSorted:s,getSortIcon:d,toggleSort:m})=>[h("tr",null,[(g(!0),b(w,null,I(r,u=>(g(),b("td",{key:u.key,class:"pa-1"},[o(C,{class:"d-flex align-center pa-4",variant:"tonal",width:"100%",height:"100%",color:"primary",onClick:()=>{u.sortable&&m(u)}},{default:p(()=>[h("span",Si,A(u.title),1),o(oa),s(u)?(g(),f(P,{key:0,icon:d(u)},null,8,["icon"])):B("",!0)]),_:2},1032,["onClick"])]))),128))])]),"item.opsi":p(({item:r})=>[o(j,null,{default:p(()=>[o(D,{class:"mr-1",size:"32",variant:"tonal",elevation:0,color:"secondary",onClick:s=>l(e).setDialog(r,Va,"update")},{default:p(()=>[o(P,{size:"20",icon:"$pencil"})]),_:2},1032,["onClick"]),o(D,{size:"32",variant:"tonal",elevation:0,color:"error",onClick:s=>l(e).setDialog(r,Va,"delete")},{default:p(()=>[o(P,{size:"20",icon:"$delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),"item.sopir":p(({item:r})=>[o(j,null,{default:p(()=>[h("span",xi,A(r.sopir),1)]),_:2},1024)]),"item.mobil":p(({item:r})=>[o(j,null,{default:p(()=>[h("span",Vi,A(r.mobil),1)]),_:2},1024)]),_:1},8,["search","items","headers","custom-key-sort"])]),_:1})]),_:1})):B("",!0)]),_:1}))}}),ha=ea("pengeluaran-store",{state:()=>({pengeluarans:na("pengeluarans",[]),formattedPengeluarans:[],form:{mobil:{value:null,error:""},keterangan:{value:"",error:""},biaya:{value:"",digit:"",error:""},tanggal:{value:null,error:""}},search:""}),actions:{async create(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation()){a.loading=!1;return}const e=this.form.mobil.value,n=this.form.keterangan.value,t=Number(this.form.biaya.digit),i=this.form.tanggal.value;this.pengeluarans.push({id:this.pengeluarans.length===0?1:this.pengeluarans[this.pengeluarans.length-1].id+1,id_mobil:e.id,keterangan:n,biaya:t,tanggal:i}),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Tambah Data Pengeluaran")},async update(){const a=y();if(a.loading)return;if(a.loading=!0,!await this.checkValidation()){a.loading=!1;return}const e=a.dialog.item,n=this.form.mobil.value,t=this.form.keterangan.value,i=Number(this.form.biaya.digit),r=this.form.tanggal.value,s=this.pengeluarans.findIndex(d=>d.id===e.id);s!==-1&&(this.pengeluarans[s].id_mobil=n.id,this.pengeluarans[s].keterangan=t,this.pengeluarans[s].biaya=Number(i),this.pengeluarans[s].tanggal=r),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Ubah Data Pengeluaran")},async delete(){const a=y();if(a.loading)return;a.loading=!0;const e=a.dialog.item,n=this.pengeluarans.findIndex(t=>t.id===e.id);n!==-1&&this.pengeluarans.splice(n,1),this.afterAction(),a.setAlerts("success","Aksi Berhasil","Berhasil Hapus Data Pengeluaran")},async mobilValidation(){const a=H(),e=this.form.mobil.value;let n="";e?a.mobils.some(t=>t.id===e.id)||(n="Mobil Tidak Valid!"):n="Mobil Tidak Boleh Kosong!",await x(()=>{this.form.mobil.value=e,this.form.mobil.error=n})},async keteranganValidation(){const a=/ {2,}/g,e=/^ {1,}/gm;let n=this.form.keterangan.value,t="";n=n.replace(a," ").replace(e,""),n?n.length>500&&(t="Keterangan Terlalu Panjang!"):t="Keterangan Tidak Boleh Kosong!",await x(()=>{this.form.keterangan.value=n,this.form.keterangan.error=t})},async biayaValidation(){const a=/\D+/g,e=/^0\d+/g,n=/[.]+|\D+/g;let t=this.form.biaya.value,i="",r="";t=t.replace(a,"").replace(e,"0"),t?(r=t.replace(n,""),r.length>12&&(r=r.substring(0,12)),t=T.global.n(Number(r),"decimal","id")):i="Biaya Tidak Boleh Kosong!",await x(()=>{this.form.biaya.value=t,this.form.biaya.error=i,this.form.biaya.digit=r})},async tanggalValidation(){const a=this.form.tanggal.value;let e="";const n=new Date;n.setHours(0,0,0,0),a?a.getTime()>n.getTime()&&(e="Tanggal Tidak Boleh Masa Depan!"):e="Tanggal Tidak Boleh Kosong!",await x(()=>{this.form.tanggal.value=a,this.form.tanggal.error=e})},async checkValidation(){if(await Promise.all([this.mobilValidation(),this.keteranganValidation(),this.biayaValidation(),this.tanggalValidation()]),!this.isValidationValid){const a=y(),e=this.form.mobil.error,n=this.form.keterangan.error,t=this.form.biaya.error,i=this.form.tanggal.error;return a.setAlerts("error","Aksi Gagal",`${e?`${e}
`:""}${n?`${n}
`:""}${t?`${t}
`:""}${i?`${i}
`:""}`),!1}return!0},afterAction(){const a=y();this.resetForm(),a.resetDialog()},resetForm(){this.form={mobil:{value:null,error:""},keterangan:{value:"",error:""},biaya:{value:"",digit:"",error:""},tanggal:{value:null,error:""}}},customKeySort(){return{nomor:(a,e)=>a-e,mobil:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),keterangan:(a,e)=>a.toLowerCase().localeCompare(e.toLowerCase()),biaya:(a,e)=>{const n=Number(a.replace(/[^\d|-]+/g,"")),t=Number(e.replace(/[^\d|-]+/g,""));return n-t},tanggal:(a,e)=>{const n="EEEE, dd MMMM yyyy",t=E(a,n,new Date,{locale:R}),i=E(e,n,new Date,{locale:R});return t.getTime()-i.getTime()}}}},getters:{isValidationValid(a){const e=a.form.mobil.error,n=a.form.keterangan.error,t=a.form.biaya.error,i=a.form.tanggal.error;return e===""&&n===""&&t===""&&i===""},getTableHeaders(){return[{title:"Opsi",value:"opsi",sortable:!1,nowrap:!0,align:"center"},{title:"Nomor",value:"nomor",sortable:!0,nowrap:!0,align:"center"},{title:"Mobil",value:"mobil",sortable:!0,nowrap:!0,align:"start"},{title:"Keterangan",value:"keterangan",sortable:!0,nowrap:!1,align:"start"},{title:"Biaya",value:"biaya",sortable:!0,nowrap:!0,align:"start"},{title:"Tanggal",value:"tanggal",sortable:!0,nowrap:!0,align:"start"}]}}});function $i(a){return a.map((e,n)=>{const i=H().mobils.find(d=>d.id===e.id_mobil),r=`${T.global.n(e.biaya,"currency","id")}`,s=new Date(e.tanggal).toLocaleDateString("id",{dateStyle:"full"});return{id:e.id,id_mobil:e.id_mobil,nomor:n+1,mobil:`${i.nomor_polisi}
${i.nama}`,keterangan:e.keterangan,biaya:r,tanggal:s}})}function Ti(){const a=new Date(da,0,1),e=new Date;a.setHours(0,0,0,0),e.setHours(0,0,0,0);const n=[],t=H();for(;a.getTime()<=e.getTime();){const i=t.mobils[F(0,t.mobils.length-1)],r=F(1e4,1e7),s=new Date(F(da,a.getFullYear()),F(0,a.getMonth()),F(1,a.getDate())),d=`Pengeluaran pada hari ${s.toLocaleDateString("id",{dateStyle:"full"})} sebesar Rp ${T.global.n(r,"currency","id")}`;n.push({id:n.length===0?1:n[n.length-1].id+1,id_mobil:i.id,keterangan:d,biaya:r,tanggal:s}),a.setDate(a.getDate()+1)}return n}const Di={class:"text-body-2 font-weight-bold text-no-wrap"},Bi=K({__name:"CustomTextArea",props:{modelValue:{type:String,required:!0},label:{type:String,default:void 0},placeholder:{type:String,default:void 0},prependInnerIcon:{type:Object,default:void 0},clearable:{type:Boolean,default:!1},counter:{type:Boolean,default:!1}},emits:["update:model-value"],setup(a,{emit:e}){const n=a,t=e,i=M({get:()=>n.modelValue,set:r=>{t("update:model-value",r)}});return(r,s)=>(g(),f(ke,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=d=>i.value=d),label:a.label,placeholder:a.placeholder,clearable:a.clearable,"onClick:clear":s[1]||(s[1]=()=>i.value=""),"onUpdate:focused":s[2]||(s[2]=d=>{d||(i.value=i.value.trim())})},Za({"prepend-inner":p(({isFocused:d})=>[a.prependInnerIcon?(g(),f(Ba,{key:0,"leave-absolute":""},{default:p(()=>[d.value?(g(),f(P,{key:0,icon:a.prependInnerIcon.active},null,8,["icon"])):(g(),f(P,{key:1,icon:a.prependInnerIcon.passive},null,8,["icon"]))]),_:2},1024)):B("",!0)]),_:2},[a.counter?{name:"append-inner",fn:p(()=>[h("span",Di,A(i.value.length),1)]),key:"0"}:void 0]),1032,["modelValue","label","placeholder","clearable"]))}}),Ci={class:"text-h6 font-weight-bold text-center mx-auto"},Mi=h("span",{class:"font-weight-bold mx-auto"}," Detail ",-1),Ki={class:"font-weight-medium"},Ni=h("span",null," Â :Â  ",-1),Li=h("div",{class:"my-4"},null,-1),Pa=K({__name:"PengeluaranDialogView",props:{action:{type:String,required:!0}},setup(a){const e=a,n=y(),t=H(),i=ha(),r=M(()=>n.dialog.item),s=M(()=>e.action==="create"?"Tambah":e.action==="update"?"Ubah":"Hapus"),d=M(()=>[{title:"Mobil",value:r.value.mobil},{title:"Keterangan",value:r.value.keterangan},{title:"Biaya",value:r.value.biaya},{title:"Tanggal",value:r.value.tanggal}]);return ia(()=>{if(e.action==="update"){const m="EEEE, dd MMMM yyyy";i.form.mobil.value=t.mobils.find(u=>u.id===r.value.id_mobil)||null,i.form.keterangan.value=r.value.keterangan,i.form.biaya.value=r.value.biaya,i.form.tanggal.value=E(r.value.tanggal,m,new Date,{locale:R}),i.mobilValidation(),i.keteranganValidation(),i.biayaValidation(),i.tanggalValidation()}}),(m,u)=>(g(),b(w,null,[o(j,{class:"position-relative mb-8"},{default:p(()=>[o(D,{position:"absolute",size:"32px",variant:"tonal",elevation:0,onClick:u[0]||(u[0]=()=>{l(i).resetForm(),l(n).resetDialog()})},{default:p(()=>[o(P,{size:"20px",icon:"$close",color:"surface"})]),_:1}),h("span",Ci,A(s.value)+" Pengeluaran ",1)]),_:1}),a.action==="delete"?(g(),b(w,{key:0},[o(j,null,{default:p(()=>[o(C,{class:"pa-1 mx-auto",color:"surface",elevation:4},{default:p(()=>[o(P,{icon:"$alert",size:"128px",color:"primary"})]),_:1})]),_:1}),o(j,{class:"d-flex flex-column mt-8"},{default:p(()=>[Mi,o(ta,{class:"overflow-auto align-self-center","grid-template-columns":"minmax(0px, 1fr) auto minmax(0px, 1fr)",width:"fit-content"},{default:p(()=>[(g(!0),b(w,null,I(d.value,(c,k)=>(g(),b(w,{key:k},[h("span",Ki,A(c.title),1),Ni,h("span",null,A(c.value),1)],64))),128))]),_:1})]),_:1})],64)):(g(),f(W,{key:1},{default:p(()=>[o(Y,{modelValue:l(i).form.mobil.value,"onUpdate:modelValue":[u[1]||(u[1]=c=>l(i).form.mobil.value=c),u[2]||(u[2]=c=>l(i).mobilValidation())],items:l(t).mobils.sort((c,k)=>c.nomor_polisi.toLowerCase().localeCompare(k.nomor_polisi.toLowerCase())),"item-value":"id","item-title":"nomor_polisi","item-props":c=>({title:c.nomor_polisi,subtitle:c.nama}),label:"Mobil",placeholder:"Pilih Salah Satu","prepend-inner-icon":{active:"$car",passive:"$car-outline"},"return-object":""},null,8,["modelValue","items","item-props"]),o(v,{class:"my-1"}),o(fa,{group:""},{default:p(()=>[l(i).form.mobil.value?(g(),b(w,{key:0},[o(Ga,{mobil:l(i).form.mobil.value},null,8,["mobil"]),o(v,{class:"my-1"})],64)):B("",!0)]),_:1}),o(Bi,{modelValue:l(i).form.keterangan.value,"onUpdate:modelValue":[u[3]||(u[3]=c=>l(i).form.keterangan.value=c),u[4]||(u[4]=c=>l(i).keteranganValidation())],label:"Keterangan",placeholder:"Maksimal 500 Karakter","prepend-inner-icon":{active:"$text-box",passive:"$text-box-outline"},clearable:"",counter:""},null,8,["modelValue"]),o(v,{class:"my-1"}),o($,{modelValue:l(i).form.biaya.value,"onUpdate:modelValue":[u[5]||(u[5]=c=>l(i).form.biaya.value=c),u[6]||(u[6]=c=>l(i).biayaValidation())],label:"Biaya",placeholder:"1.000.000","prepend-inner-icon":{active:"$cash-100",passive:"$cash-minus"},prefix:"Rp"},null,8,["modelValue"]),o(v,{class:"my-1"}),o(_a,{modelValue:l(i).form.tanggal.value,"onUpdate:modelValue":[u[7]||(u[7]=c=>l(i).form.tanggal.value=c),u[8]||(u[8]=c=>l(i).tanggalValidation())],title:"Tanggal",max:new Date},null,8,["modelValue","max"])]),_:1})),Li,o(D,{height:"56px",block:"",color:"secondary",onClick:u[9]||(u[9]=()=>{l(i)[a.action]()})},{default:p(()=>[O(A(a.action.toCapitalizeCase()),1)]),_:1})],64))}}),Ii={class:"text-body-1 font-weight-bold text-no-wrap mr-2"},Fi={class:"text-pre"},Oi=K({__name:"PengeluaranView",setup(a){const e=y(),n=ha();return U(()=>[e.active.child,n.pengeluarans],t=>{t[0]&&t[1]&&(n.formattedPengeluarans=$i(n.pengeluarans),e.loading=!1)},{immediate:!0,deep:!0}),(t,i)=>(g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.child?(g(),f(j,{key:0,class:"d-scroll pa-2 overflow-auto","min-height":"fit-content","max-height":"100vh"},{default:p(()=>[o(C,{class:"ma-auto pa-4",color:"surface","min-width":"100%",width:"0px"},{default:p(()=>[o(ra,{search:l(n).search,items:l(n).formattedPengeluarans,headers:l(n).getTableHeaders,"custom-key-sort":l(n).customKeySort(),"sort-by":[{key:"tanggal",order:"desc"}]},{top:p(()=>[o(j,{class:"pt-1 pb-2"},{default:p(()=>[o(D,{height:"56px",color:"secondary",onClick:i[0]||(i[0]=r=>l(e).setDialog(void 0,Pa,"create"))},{default:p(()=>[O(" Tambah Pengeluaran ")]),_:1}),o(v,{class:"mx-2",color:"transparent",vertical:""}),o($,{modelValue:l(n).search,"onUpdate:modelValue":i[1]||(i[1]=r=>l(n).search=r),label:"Cari Data Pengeluaran","prepend-inner-icon":{active:"$text-box-search",passive:"$text-box-search-outline"},clearable:""},null,8,["modelValue"])]),_:1})]),headers:p(({columns:r,isSorted:s,getSortIcon:d,toggleSort:m})=>[h("tr",null,[(g(!0),b(w,null,I(r,u=>(g(),b("td",{key:u.key,class:"pa-1"},[o(C,{class:"d-flex align-center pa-4",variant:"tonal",width:"100%",height:"100%",color:"primary",onClick:()=>{u.sortable&&m(u)}},{default:p(()=>[h("span",Ii,A(u.title),1),o(oa),s(u)?(g(),f(P,{key:0,icon:d(u)},null,8,["icon"])):B("",!0)]),_:2},1032,["onClick"])]))),128))])]),"item.opsi":p(({item:r})=>[o(j,null,{default:p(()=>[o(D,{class:"mr-1",size:"32",variant:"tonal",elevation:0,color:"secondary",onClick:s=>l(e).setDialog(r,Pa,"update")},{default:p(()=>[o(P,{size:"20",icon:"$pencil"})]),_:2},1032,["onClick"]),o(D,{size:"32",variant:"tonal",elevation:0,color:"error",onClick:s=>l(e).setDialog(r,Pa,"delete")},{default:p(()=>[o(P,{size:"20",icon:"$delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),"item.mobil":p(({item:r})=>[o(j,null,{default:p(()=>[h("span",Fi,A(r.mobil),1)]),_:2},1024)]),_:1},8,["search","items","headers","custom-key-sort"])]),_:1})]),_:1})):B("",!0)]),_:1}))}}),Ui=["id"],Oa=K({__name:"CustomChart",props:{options:{type:Object,required:!0},numberFormatStyle:{type:String,default:"currency"}},setup(a){const e=a,n=Ra(null),t=()=>{var i,r,s,d,m;n.value&&n.value.destroy(),n.value=new Ve(document.getElementById(`chart${(i=e.options.chart)==null?void 0:i.id}`),{...e.options,tooltip:{enabled:(s=(r=e.options)==null?void 0:r.tooltip)==null?void 0:s.enabled,y:{formatter(u){return T.global.n(u,e.numberFormatStyle,"id")}}},yaxis:{labels:{formatter(u){return T.global.n(u,e.numberFormatStyle,"id")}}},dataLabels:{enabled:(m=(d=e.options)==null?void 0:d.dataLabels)==null?void 0:m.enabled,formatter(u){return T.global.n(Number(u),e.numberFormatStyle,"id")}}}),Ta(Da/3).then(()=>{x(()=>{n.value&&n.value.render()})})};return Qa(()=>{x(()=>{t()})}),qa(()=>{n.value&&n.value.destroy()}),U(()=>e.options,()=>{x(()=>{t()})}),(i,r)=>{var s;return g(),b("div",{id:`chart${(s=a.options.chart)==null?void 0:s.id}`},null,8,Ui)}}});var ga=(a=>(a.JumlahPendapatan="Jumlah Pendapatan",a.JumlahPengiriman="Jumlah Pengiriman",a.UangMinyak="Uang Minyak",a))(ga||{}),ma=(a=>(a.JumlahPendapatan="Jumlah Pendapatan",a.JumlahPengeluaran="Jumlah Pengeluaran",a.JumlahPenggunaan="Jumlah Penggunaan",a.HargaMobil="Harga Mobil",a.BiayaPajak="Biaya Pajak",a))(ma||{}),ba=(a=>(a.Line="Garis",a.Area="Area",a.Bar="Batang",a))(ba||{});const Hi=ea("ritase-store",{state:()=>({pendapatanOptions:null,pengeluaranOptions:null,keuntunganOptions:null,inputYear:new Date().getFullYear(),inputMonth:null,worker:null,sopir:{options:null,inputSopir:ga.JumlahPendapatan,inputYear:null,inputMonth:null,chartType:ba.Area,numberFormatStyle:"currency",worker:null},mobil:{options:null,inputMobil:ma.JumlahPendapatan,inputYear:null,inputMonth:null,chartType:ba.Area,numberFormatStyle:"currency",worker:null}}),actions:{},getters:{getSparklineItems(a){return[{options:a.pendapatanOptions},{options:a.pengeluaranOptions},{options:a.keuntunganOptions}]},getChartItems(a){return[{model:"sopir",items:Object.values(ga),label:"Laporan Sopir",icon:{active:"$ship-wheel",passive:"$steering"},options:a.sopir.options,inputModel:q(a.sopir,"inputSopir"),inputYear:q(a.sopir,"inputYear"),inputMonth:q(a.sopir,"inputMonth"),chartType:q(a.sopir,"chartType"),numberFormatStyle:a.sopir.numberFormatStyle},{model:"mobil",items:Object.values(ma),label:"Laporan Mobil",icon:{active:"$car",passive:"$car-outline"},options:a.mobil.options,inputModel:q(a.mobil,"inputMobil"),inputYear:q(a.mobil,"inputYear"),inputMonth:q(a.mobil,"inputMonth"),chartType:q(a.mobil,"chartType"),numberFormatStyle:a.mobil.numberFormatStyle}]}}}),zi=K({__name:"RitaseView",setup(a){const e=y(),n=Q(),t=H(),i=ca(),r=ha(),s=Hi();return U(()=>[i.pendapatans,r.pengeluarans,s.inputYear,s.inputMonth],d=>{d[0].length>0&&d[1].length>0&&s.worker&&(s.worker.terminate(),s.worker=null),window.Worker?(s.pendapatanOptions=null,s.pengeluaranOptions=null,s.keuntunganOptions=null,s.worker=new Worker(new URL("/Pundi-Niaga-Khatulistiwa/assets/ritase-worker-CT4qPjt9.js",import.meta.url),{type:"module"}),s.worker.onmessage=m=>{s.pendapatanOptions=JSON.parse(m.data.pendapatanOptions),s.pengeluaranOptions=JSON.parse(m.data.pengeluaranOptions),s.keuntunganOptions=JSON.parse(m.data.keuntunganOptions),x(()=>{e.loading=!1})},s.worker.postMessage({pendapatans:JSON.stringify(d[0]),pengeluarans:JSON.stringify(d[1]),inputYear:s.inputYear,inputMonth:s.inputMonth})):console.error(xa)},{immediate:!0,deep:!0}),U(()=>[i.pendapatans,n.sopirs,s.sopir.inputSopir,s.sopir.inputYear,s.sopir.inputMonth,s.sopir.chartType],d=>{d[0].length>0&&d[1].length>0&&s.sopir.worker&&(s.sopir.worker.terminate(),s.sopir.worker=null),window.Worker?(s.sopir.options=null,s.sopir.numberFormatStyle="currency",s.sopir.worker=new Worker(new URL("/Pundi-Niaga-Khatulistiwa/assets/ritase-sopir-worker-FKy9BGeQ.js",import.meta.url),{type:"module"}),s.sopir.worker.onmessage=m=>{s.sopir.options=JSON.parse(m.data.options),s.sopir.numberFormatStyle=m.data.numberFormatStyle,x(()=>{e.loading=!1})},s.sopir.worker.postMessage({pendapatans:JSON.stringify(d[0]),sopirs:JSON.stringify(d[1]),inputSopir:s.sopir.inputSopir,inputYear:s.sopir.inputYear,inputMonth:s.sopir.inputMonth,chartType:s.sopir.chartType})):console.error(xa)},{immediate:!0,deep:!0}),U(()=>[i.pendapatans,r.pengeluarans,t.mobils,s.mobil.inputMobil,s.mobil.inputYear,s.mobil.inputMonth,s.mobil.chartType],d=>{d[0].length>0&&d[1].length>0&&d[2].length>0&&s.mobil.worker&&(s.mobil.worker.terminate(),s.mobil.worker=null),window.Worker?(s.mobil.options=null,s.mobil.numberFormatStyle="currency",s.mobil.worker=new Worker(new URL("/Pundi-Niaga-Khatulistiwa/assets/ritase-mobil-worker-n35QJr__.js",import.meta.url),{type:"module"}),s.mobil.worker.onmessage=m=>{s.mobil.options=JSON.parse(m.data.options),s.mobil.numberFormatStyle=m.data.numberFormatStyle,x(()=>{e.loading=!1})},s.mobil.worker.postMessage({pendapatans:JSON.stringify(d[0]),pengeluarans:JSON.stringify(d[1]),mobils:JSON.stringify(d[2]),inputMobil:s.mobil.inputMobil,inputYear:s.mobil.inputYear,inputMonth:s.mobil.inputMonth,chartType:s.mobil.chartType})):console.error(xa)},{immediate:!0,deep:!0}),(d,m)=>(g(),f(J,{style:{"transition-duration":"var(--transition-duration) !important"}},{default:p(()=>[l(e).active.child?(g(),f(j,{key:0,class:"d-scroll pa-2 overflow-auto",width:"0px","min-height":"fit-content","max-height":"100vh"},{default:p(()=>[o(j,{class:"d-flex flex-column ma-auto","min-width":"fit-content"},{default:p(()=>[o(W,{class:"mb-2 d-flex"},{default:p(()=>[o(Y,{modelValue:l(s).inputYear,"onUpdate:modelValue":[m[0]||(m[0]=u=>l(s).inputYear=u),m[1]||(m[1]=u=>l(s).inputMonth=null)],items:l(Ia),label:"Tahun",placeholder:"Pilih Salah Satu","prepend-inner-icon":{active:"$calendar",passive:"$calendar-outline"},clearable:""},null,8,["modelValue","items"]),o(fe,{group:""},{default:p(()=>[l(s).inputYear?(g(),b(w,{key:0},[o(v,{class:"mx-1",vertical:""}),o(Y,{modelValue:l(s).inputMonth,"onUpdate:modelValue":m[2]||(m[2]=u=>l(s).inputMonth=u),items:l(Fa),"item-title":"title","item-value":"value",label:"Bulan",placeholder:"Pilih Salah Satu","prepend-inner-icon":{active:"$calendar-month",passive:"$calendar-month-outline"},clearable:""},null,8,["modelValue","items"])],64)):B("",!0)]),_:1})]),_:1}),o(ta,{"grid-template-columns":"repeat(3, 1fr)",gap:"8px",width:"100%"},{default:p(()=>[(g(!0),b(w,null,I(l(s).getSparklineItems,(u,c)=>(g(),f(C,{key:c,"min-width":"360px","min-height":"240px"},{default:p(()=>[u.options?(g(),f(Oa,{key:0,class:"pt-2",options:u.options},null,8,["options"])):(g(),f(Na,{key:1,type:["ossein"],height:"240px"}))]),_:2},1024))),128)),(g(!0),b(w,null,I(l(s).getChartItems,(u,c)=>(g(),f(C,{key:c,class:"pa-2",style:{"grid-column":"span 3"},"min-width":"360px","min-height":"575px"},{default:p(()=>[o(W,{class:"mb-2 d-flex"},{default:p(()=>[o(Y,{modelValue:u.inputModel.value,"onUpdate:modelValue":k=>u.inputModel.value=k,items:u.items,label:u.label,placeholder:"Pilih Salah Satu","prepend-inner-icon":u.icon},null,8,["modelValue","onUpdate:modelValue","items","label","prepend-inner-icon"]),o(v,{class:"mx-1",vertical:""}),o(J,{group:""},{default:p(()=>[u.model==="sopir"&&[l(ga).JumlahPendapatan,l(ga).JumlahPengiriman].includes(u.inputModel.value)||u.model==="mobil"&&[l(ma).JumlahPendapatan,l(ma).JumlahPengeluaran,l(ma).JumlahPenggunaan].includes(u.inputModel.value)?(g(),b(w,{key:0},[o(Y,{modelValue:u.inputYear.value,"onUpdate:modelValue":[k=>u.inputYear.value=k,k=>u.inputMonth.value=null],items:l(Ia),label:"Tahun",placeholder:"Pilih Salah Satu","prepend-inner-icon":{active:"$calendar",passive:"$calendar-outline"},clearable:""},null,8,["modelValue","onUpdate:modelValue","items"]),u.inputYear.value?(g(),b(w,{key:0},[o(v,{class:"mx-1",vertical:""}),o(Y,{modelValue:u.inputMonth.value,"onUpdate:modelValue":k=>u.inputMonth.value=k,items:l(Fa),"item-title":"title","item-value":"value",label:"Bulan",placeholder:"Pilih Salah Satu","prepend-inner-icon":{active:"$calendar-month",passive:"$calendar-month-outline"},clearable:""},null,8,["modelValue","onUpdate:modelValue","items"])],64)):B("",!0),o(v,{class:"mx-1",vertical:""})],64)):B("",!0)]),_:2},1024),o(Y,{modelValue:u.chartType.value,"onUpdate:modelValue":k=>u.chartType.value=k,items:Object.values(l(ba)),label:"Tipe Grafik",placeholder:"Pilih Salah Satu","prepend-inner-icon":{active:"$chart-box",passive:"$chart-box-outline"}},null,8,["modelValue","onUpdate:modelValue","items"])]),_:2},1024),u.options?(g(),f(Oa,{key:0,class:"pt-2",options:u.options,"number-format-style":u.numberFormatStyle},null,8,["options","number-format-style"])):(g(),f(Na,{key:1,type:["ossein"],height:"480px"}))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):B("",!0)]),_:1}))}}),Ei=[{path:"/beranda",name:"App",component:Jt,meta:{jenis:[_.Pemilik,_.Admin,_.Bengkel]},children:[{path:"/beranda",name:"Beranda",component:Xt,meta:{jenis:[_.Pemilik,_.Admin,_.Bengkel]}},{path:"/admin",name:"Admin",component:rn,meta:{jenis:[_.Pemilik]}},{path:"/bengkel",name:"Bengkel",component:dn,meta:{jenis:[_.Pemilik]}},{path:"/sopir",name:"Sopir",component:vn,meta:{jenis:[_.Pemilik,_.Admin]}},{path:"/mobil",name:"Mobil",component:Dn,meta:{jenis:[_.Pemilik,_.Admin]}},{path:"/spare-part",name:"SparePart",component:On,meta:{jenis:[_.Pemilik,_.Bengkel]}},{path:"/pendapatan",name:"Pendapatan",component:Pi,meta:{jenis:[_.Pemilik,_.Admin]}},{path:"/pengeluaran",name:"Pengeluaran",component:Oi,meta:{jenis:[_.Pemilik,_.Admin]}},{path:"/ritase",name:"Ritase",component:zi,meta:{jenis:[_.Pemilik,_.Admin]}}]},{path:"/masuk",name:"Masuk",component:Yt,meta:{jenis:[_.Tamu]}},{path:"/:catchAll(.*)",redirect:"/beranda"}];Ra(null);const aa=se({history:ue("/Pundi-Niaga-Khatulistiwa"),routes:Ei});aa.beforeEach(async(a,e,n)=>{const t=y(),i=la();if(e.path!=="/"&&(!t.active.parent||!t.active.child))return n(!1);if((!i.user||!i.user.id)&&a.name!=="Masuk")return n({name:"Masuk"});if(i.user&&i.user.id&&a.name==="Masuk")return n({name:"Beranda"});if(i.user&&i.user.id&&!a.meta.jenis.includes(i.user.jenis))return n({name:"Beranda"});t.loading=!0;const r=aa.getRoutes().filter(k=>k.name==="App").flatMap(k=>k.children);(a.name==="Beranda"&&e.name==="Masuk"||a.name==="Masuk"&&r.some(k=>k.name===e.name)||e.path==="/")&&(t.active.parent=!1,Ta(Da).then(()=>{t.active.parent=!0})),(r.some(k=>k.name===a.name)&&r.some(k=>k.name===e.name)||e.path==="/")&&(t.active.child=!1,Ta(Da).then(()=>{t.active.child=!0})),t.synchronize(),i.users.length===0&&(i.users=Rt());const s=Q();s.sopirs.length===0&&(s.sopirs=cn());const d=H();d.mobils.length===0&&(d.mobils=yn());const m=Ca();m.spare_parts.length===0&&(m.spare_parts=Cn());const u=ca();u.pendapatans.length===0&&(u.pendapatans=Hn());const c=ha();c.pengeluarans.length===0&&(c.pengeluarans=Ti()),n()});const y=ea("app-store",{state:()=>({active:{parent:!1,child:!1},loading:!1,alerts:[],dialog:{}}),actions:{synchronize(){const a=Q(),e=H(),n=ca(),t=ha(),i=n.pendapatans.reduce((s,d)=>(s.sopir[d.id_sopir]||(s.sopir[d.id_sopir]={jumlah_pendapatan:0,jumlah_pengiriman:0}),s.mobil[d.id_mobil]||(s.mobil[d.id_mobil]={jumlah_pendapatan:0,jumlah_penggunaan:0}),s.sopir[d.id_sopir].jumlah_pendapatan+=Math.round(d.pendapatan_bruto),s.sopir[d.id_sopir].jumlah_pengiriman++,s.mobil[d.id_mobil].jumlah_pendapatan+=Math.round(d.pendapatan_bruto),s.mobil[d.id_mobil].jumlah_penggunaan++,s),{sopir:{},mobil:{}}),r=t.pengeluarans.reduce((s,d)=>(s.mobil[d.id_mobil]||(s.mobil[d.id_mobil]={jumlah_pengeluaran:0}),s.mobil[d.id_mobil].jumlah_pengeluaran+=Math.round(d.biaya),s),{mobil:{}});a.sopirs.forEach(s=>{const d=i.sopir[s.id];d?(s.jumlah_pendapatan=d.jumlah_pendapatan,s.jumlah_pengiriman=d.jumlah_pengiriman):(s.jumlah_pendapatan=0,s.jumlah_pengiriman=0)}),e.mobils.forEach(s=>{const d=i.mobil[s.id],m=r.mobil[s.id];d?(s.jumlah_pendapatan=d.jumlah_pendapatan,s.jumlah_penggunaan=d.jumlah_penggunaan):(s.jumlah_pendapatan=0,s.jumlah_penggunaan=0),m?s.jumlah_pengeluaran=m.jumlah_pengeluaran:s.jumlah_pengeluaran=0})},setAlerts(a,e,n){this.alerts.push({id:new Date().getTime(),show:!0,type:a,title:e,message:n}),window.setTimeout(()=>{this.alerts.length>0&&this.alerts.shift()},1500+560*this.alerts.length)},setDialog(a,e,n){this.dialog={show:!0,item:a,component:ae(e),props:{action:n}}},resetDialog(){this.dialog.show=!1,window.setTimeout(()=>{x(()=>{this.dialog={}})},280)}},getters:{getCurrentPath(){return aa.currentRoute.value.path}}}),Ri=K({__name:"App",setup(a){const e=y();return(n,t)=>{const i=Ea("RouterView");return g(),b(w,null,[o(j,{"min-height":"100vh",height:"100%"},{default:p(()=>[o(i,{class:"ma-auto"})]),_:1}),o(_e,{class:"d-flex align-center justify-center","model-value":l(e).loading,persistent:"","z-index":1e5},{default:p(()=>[o(Ae,{indeterminate:"",size:64,width:8,color:"secondary"})]),_:1},8,["model-value"]),o(ee,{name:"alert"},{default:p(()=>[l(e).alerts.length>0?(g(),f(C,{key:0,class:"pa-2 overflow-auto",style:{"z-index":"90000"},color:"transparent",position:"fixed",width:"410px","min-height":"fit-content","max-height":"100%",location:"top end"},{default:p(()=>[o(te,{name:"alert-list"},{default:p(()=>[(g(!0),b(w,null,I(l(e).alerts,r=>(g(),b(w,{key:r.id},[o(C,{variant:"flat",color:"surface"},{default:p(()=>[o(ve,{class:"text-pre-wrap",type:r.type,title:r.title,text:r.message,variant:"tonal",border:"start"},null,8,["type","title","text"])]),_:2},1024),o(v,{class:"mt-2"})],64))),128))]),_:1})]),_:1})):B("",!0)]),_:1}),o(be,{"model-value":l(e).dialog.show,persistent:""},{default:p(()=>[o(C,{class:"ma-auto pa-8 d-flex flex-column",width:"512px",color:"primary",elevation:"4"},{default:p(()=>[(g(),f(re(l(e).dialog.component),ne(ie(l(e).dialog.props)),null,16))]),_:1})]),_:1},8,["model-value"])],64)}}}),Ji=je({defaults:{global:{},VCard:{variant:"flat",rounded:"xl",color:"surface"},VDivider:{color:"transparent",opacity:1,thickness:2},VBtn:{variant:"elevated",rounded:"xl",elevation:4},VTextField:{variant:"solo",bgColor:"surface",baseColor:"background",hideDetails:!0,rounded:"xl"},VTextarea:{variant:"solo",bgColor:"surface",baseColor:"background",hideDetails:!0,rounded:"xl"},VSelect:{variant:"solo",bgColor:"surface",baseColor:"background",hideDetails:!0,rounded:"xl"},VDataTable:{mustSort:!0,sortBy:[{key:"nomor",order:"asc"}],itemsPerPage:10,itemsPerPageOptions:[5,10,25,50,100,200,-1]},VDatePicker:{color:"secondary",bgColor:"surface",rounded:"xl",width:"100%",showAdjacentMonths:!0}},theme:{defaultTheme:"light",themes:{light:{colors:{primary:"#1B5E20",secondary:"#4CAF50",background:"#212121",surface:"#FAFAFA",success:"#3F51B5",error:"#B71C1C",warning:"#F4511E"},dark:!1}}},locale:{locale:"id",fallback:"id",messages:{id:ye}},icons:{defaultSet:"mdi",sets:{mdi:we},aliases:{...Se,email:Pe,"email-outline":$e,lock:Te,"lock-outline":De,home:Be,"home-outline":Ce,account:Me,"account-outline":Ke,tools:Ne,"hammer-wrench":Le,steering:Ie,"ship-wheel":Fe,car:Oe,"car-outline":Ue,"car-cog":He,"car-battery":ze,"cash-plus":Ee,"cash-minus":Re,"cash-sync":Je,"clipboard-text":Xe,"clipboard-text-outline":Ge,"text-box-search":Ye,"text-box-search-outline":We,pencil:Ze,phone:Qe,"phone-outline":qe,alert:at,"card-account-details":et,"card-account-details-outline":tt,"office-building":nt,"office-building-outline":it,"office-building-marker":rt,"office-building-marker-outline":ot,"account-cash":lt,"account-cash-outline":st,"car-lifted-pickup":ut,"car-search":mt,"car-search-outline":pt,"car-info":dt,"gas-station":gt,"gas-station-outline":ct,palette:ht,"palette-outline":kt,tag:ft,"tag-outline":_t,cash:bt,"cash-100":At,"car-estate":vt,"car-settings":jt,cog:yt,"cog-outline":wt,"folder-wrench":St,"folder-wrench-outline":xt,"clipboard-list":Vt,"clipboard-list-outline":Pt,"wrench-cog":$t,"wrench-cog-outline":Tt,"text-box":Dt,"text-box-outline":Bt,barcode:Ct,"barcode-scan":Mt,"scale-balance":Kt,"scale-unbalance":Nt,truck:Lt,"truck-outline":It,calendar:Ft,"calendar-outline":Ot,"calendar-month":Ut,"calendar-month-outline":Ht,"chart-box":zt,"chart-box-outline":Et}}}),Aa="Pundi Niaga Khatulistiwa",Xi=`Pundi Niaga Khatulistiwa adalah perusahaan terkemuka yang bergerak di bidang transportasi Crude Palm Oil (CPO) atau minyak kelapa sawit. Berkomitmen untuk menyediakan layanan logistik yang efisien dan andal, Pundi Niaga Khatulistiwa melayani berbagai kebutuhan pengangkutan CPO dari perkebunan hingga ke pabrik pengolahan dan pelabuhan ekspor.
Perusahaan ini didukung oleh armada transportasi yang modern dan canggih, serta tenaga kerja profesional yang berpengalaman di industri kelapa sawit. Dengan fokus pada ketepatan waktu, keamanan, dan kepuasan pelanggan, Pundi Niaga Khatulistiwa memastikan bahwa setiap pengiriman dilakukan dengan standar tertinggi.
Selain itu, Pundi Niaga Khatulistiwa juga menerapkan praktik bisnis yang berkelanjutan dan ramah lingkungan, sejalan dengan komitmen untuk mendukung perkembangan industri kelapa sawit yang berkelanjutan di Indonesia. Dengan inovasi dan dedikasi yang terus menerus, Pundi Niaga Khatulistiwa siap menjadi mitra terpercaya dalam transportasi CPO, mendukung pertumbuhan ekonomi dan kesejahteraan masyarakat.`;var Ua;(Ua=document.querySelector("meta[name=application-name]"))==null||Ua.setAttribute("content",Aa);var Ha;(Ha=document.querySelector("meta[name=description]"))==null||Ha.setAttribute("content",Xi);var za;(za=document.querySelector("meta[name=keywords]"))==null||za.setAttribute("content",`${Aa},${Aa.split(" ").join(",")}`);document.title=Aa;const ka=oe(Ri);ka.use(le());ka.use(aa);ka.use(Ji);ka.use(T);ka.mount("#app");
